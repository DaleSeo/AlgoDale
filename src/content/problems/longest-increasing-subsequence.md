---
title: "Longest Increasing Subsequence"
tags:
  - leetcode
  - array
  - sequence
  - recursion
  - permutation
  - dp
  - binary-search
  - python
date: 2024-06-27
---

LeetCodeì˜ 300ë²ˆì§¸ ë¬¸ì œì¸ [Longest Increasing Subsequence](https://leetcode.com/problems/longest-increasing-subsequence/)ë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

ì •ìˆ˜ ë°°ì—´ `nums`ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê°€ì¥ ê¸¸ê³  ì—„ê²©í•˜ê²Œ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•˜ì‹œì˜¤.

## ì˜ˆì œ

```py
ì…ë ¥: nums = [10,9,2,5,3,7,101,18]
ê²°ê³¼: 4
```

```py
ì…ë ¥: nums = [0,1,0,3,2,3]
ê²°ê³¼: 4
```

```py
ì…ë ¥: nums = [7,7,7,7,7,7,7]
ê²°ê³¼: 1
```

## í’€ì´ 1

ì´ ë¬¸ì œë¥¼ ê°€ì¥ ë‹¨ìˆœ ë¬´ì‹í•˜ê¸° í‘¸ëŠ” ë°©ë²•ì€ ì£¼ì–´ì§„ ë°°ì—´ì—ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ì˜ ë¶€ë¶„ ìˆ˜ì—´ì„ êµ¬í•˜ëŠ” ê±´ë°ìš”.
ì—„ê²©í•˜ê²Œ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ë“¤ë§Œ ê¸¸ì´ë¥¼ êµ¬í•´ì„œ ê·¸ ì¤‘ì—ì„œ ê°€ì¥ í° ê°’ì´ ìš°ë¦¬ê°€ ì°¾ê³ ì í•˜ëŠ” ê°’ì¼ ê²ƒì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì…ë ¥ ë°°ì—´ë¡œ `[1, 2, 1, 3]`ì´ ì£¼ì–´ì§€ë©´, 16ê°œì˜ ë¶€ë¶„ ìˆ˜ì—´ì„ êµ¬í•  ìˆ˜ ìˆëŠ”ë°ìš”.
ê·¸ ì¤‘ 10ê°œì˜ ìˆ˜ì—´ì´ ì—„ê²©í•˜ê²Œ ì¦ê°€í•˜ê³ , ê¸°ì¥ ê¸´ ìˆ˜ì—´ì€ `[1, 2, 3]`ìœ¼ë¡œ ê¸¸ì´ê°€ 3ì…ë‹ˆë‹¤.

| ë¶€ë¶„ ìˆ˜ì—´    | ì¦ê°€? | ê¸¸ì´     |
| ------------ | ----- | -------- |
| []           | âœ…    | 0        |
| [3]          | âœ…    | 1        |
| [1]          | âœ…    | 1        |
| [1, 3]       | âœ…    | 2        |
| [2]          | âœ…    | 1        |
| [2, 3]       | âœ…    | 2        |
| [2, 1]       | âŒ    | -        |
| [2, 1, 3]    | âŒ    | -        |
| [1]          | âœ…    | 1        |
| [1, 3]       | âœ…    | 2        |
| [1, 1]       | âŒ    | -        |
| [1, 1, 3]    | âŒ    | -        |
| [1, 2]       | âœ…    | 2        |
| [1, 2, 3]    | âœ…    | 3 (ìµœëŒ€) |
| [1, 2, 1]    | âŒ    | -        |
| [1, 2, 1, 3] | âŒ    | -        |

ì´ ì•Œê³ ë¦¬ì¦˜ì„ ì½”ë“œë¡œ í•œ ë²ˆ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.
ì„ íƒëœ ìˆ«ìì˜ ë°°ì—´ê³¼ ì„ íƒë˜ì§€ ì•Šì€ ìˆ«ìì˜ ë°°ì—´ì„ ì¸ìë¡œ ë°›ëŠ” ì¬ê·€ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ê³ ,
ë¶€ë¶„ ìˆ˜ì—´ì´ ì—„ê²©í•˜ê¸° ì¦ê°€í•˜ëŠ” ì—¬ë¶€ë¥¼ êµ¬í•˜ê¸° ìœ„í•œ ë³„ë„ì˜ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

```py
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        def is_increasing(nums):
            for i in range(1, len(nums)):
                if nums[i - 1] >= nums[i]:
                    return False
            return True

        def dfs(picked, unpicked):
            if not unpicked:
                return len(picked) if is_increasing(picked) else 0

            return max(
                dfs(picked, unpicked[1:]),  # not taken
                dfs(picked + [unpicked[0]], unpicked[1:]),  # taken
            )

        return dfs([], nums)
```

ì…ë ¥ ë°°ì—´ì˜ ê¸¸ì´ë¥¼ `n`ì´ë¼ê³  í–ˆì„ ë•Œ, ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(2^n * n)`ì´ ë˜ëŠ”ë°ìš”.
ì¬ê·€ í•¨ìˆ˜ ë‚´ì—ì„œ ì¬ê·€ í˜¸ì¶œì´ `2`ë²ˆì”© ì¼ì–´ë‚˜ëŠ”ë°, í˜¸ì¶œ ìŠ¤íƒì˜ ê¹Šì´ê°€ `n`ì´ê³ , ìˆ˜ì—´ì´ ì¦ê°€í•˜ëŠ”ì§€ êµ¬í•˜ëŠ”ë° ë˜ `O(n)`ì˜ ì‹œê°„ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê³µê°„ ë³µì¡ë„ëŠ” í˜¸ì¶œ ìŠ¤íƒì´ `n`ê³¼ ë¹„ë¡€í•˜ì—¬ ê¹Šì–´ì§€ê³ , ê° ì¬ê·€ í•¨ìˆ˜ ë‚´ì—ì„œ ë°°ì—´ì„ ë³µì œí•˜ë¯€ë¡œ `O(n^2)`ì´ ë˜ê² ìŠµë‹ˆë‹¤.

ì´ ì•Œê³ ë¦¬ì¦˜ì€ ë„ˆë¶€ ë¹„íš¨ìœ¨ì ì´ë¼ì„œ LeetCodeì— ì œì¶œí•˜ë©´ Time Limit Exceeded ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì…ë‹ˆë‹¤.

## í’€ì´ 2

ìœ„ í’€ì´ì—ì„œ ê° ë¶€ë¶„ ìˆ˜ì—´ì´ ì—„ê²©í•˜ê²Œ ì¦ê°€í•˜ëŠ”ì§€ êµ¬í•˜ëŠ”ë° `O(n)`ì˜ ì‹œê°„ì´ ê±¸ë ¸ëŠë°ìš”.
ë°˜ë“œì‹œ ì´ë ‡ê²Œ ìˆ˜ì—´ ë‚´ì˜ ëª¨ë“  ìˆ«ìë¥¼ ì°¨ë¡€ëŒ€ë¡œ ëŒ€ì†Œ ë¹„êµë¥¼ í•´ì•¼ë§Œ í• ê¹Œìš”?

ì¡°ê¸ˆë§Œ ë” ìƒê°í•´ë³´ë©´ ìˆ˜ì—´ì— ìƒˆë¡œìš´ ìˆ«ìë¥¼ ì¶”ê°€í•˜ê¸° ì „ì— ì—¬íƒœê¹Œì§€ ë§Œë“  ìˆ˜ì—´ì˜ ë§ˆì§€ë§‰ ìˆ«ìì™€ë§Œ ë¹„êµë¥¼ í•´ë„ ë©ë‹ˆë‹¤.
ë§ˆì§€ë§‰ ìˆ«ìë³´ë‹¤ í¬ë‹¤ë©´ ê·¸ ìˆ«ìë¥¼ ìˆ˜ì—´ì— ì¶”ê°€í•˜ê³ , ì‘ë‹¤ë©´ ê·¸ ìˆ«ìë¥¼ ìˆ˜ì—´ì— ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´,
ì• ì´ˆì— ëª¨ë“  ë¶€ë¶„ ìˆ˜ì—´ì„ ë§Œë“¤ì–´ë‚´ì§€ ì•Šê³ , ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ë§Œ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

```py
[]
  []
    []
      [] => ê¸¸ì´ 0
      [3] => ê¸¸ì´ 1
    [1]
      [1] => ê¸¸ì´ 1
      [1, 3] => ê¸¸ì´ 2 (1 < 3)
  [2]
    [2]
      [2] => ê¸¸ì´ 1
      [2, 3] => ê¸¸ì´ 2 (2 < 3)
    [2, 1] => âŒ (2 > 1)
[1]
  [1]
    [1]
      [1] => ê¸¸ì´ 1
      [1, 3] => ê¸¸ì´ 2 (1 < 3)
    [1, 1] => âŒ (1 == 1)
  [1, 2]
    [1, 2]
      [1, 2] => ê¸¸ì´ 2
      [1, 2, 3] => ê¸¸ì´ 3 (2 < 3) âœ… ìµœëŒ€
```

ì—¬íƒœê¹Œì§€ ë§Œë“  ìˆ˜ì—´ì˜ ë§ˆì§€ë§‰ ìˆ«ìì™€ë§Œ ëŒ€ì†Œ ë¹„êµë¥¼ í•˜ë„ë¡ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        def dfs(picked, unpicked):
            if not unpicked:
                return len(picked)
            return max(
                dfs(picked, unpicked[1:]),  # not taken
                (
                    dfs(picked + [unpicked[0]], unpicked[1:])
                    if not picked or picked[-1] < unpicked[0]
                    else 0
                ),  # taken
            )

        return dfs([], nums)
```

ì´ í’€ì´ëŠ” ë” ì´ìƒ ê° ë¶€ë¶„ ìˆ˜ì—´ì´ ì—„ê²©í•˜ê²Œ ì¦ê°€í•˜ëŠ”ì§€ êµ¬í•˜ê¸° ìœ„í•´ì„œ `O(n)`ì˜ ì‹œê°„ì„ ì“°ì§€ ì•Šì§€ë§Œ ì—¬ì „íˆ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ì˜ ë¶€ë¶„ ìˆ˜ì—´ì„ êµ¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì— `O(2^n)`ìœ¼ë¡œ ì†Œí­ í–¥ìƒë©ë‹ˆë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ LeetCodeì— ì œì¶œí•˜ë©´ ë§ˆì°¬ê°€ì§€ë¡œ Time Limit Exceeded ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì…ë‹ˆë‹¤.

## í’€ì´ 3

ì§€ê¸ˆê¹Œì§€ í’€ì´ì—ì„œëŠ” ì—„ê²©í•˜ê²Œ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì„ ë§Œë“  í›„ì— ê·¸ ê¸¸ì´ë¥¼ êµ¬í–ˆëŠ”ë°ìš”.
í•˜ì§€ë§Œ ë¬¸ì œì—ì„œëŠ” ê¸¸ì´ë§Œ ìš”êµ¬í•˜ê³  ìˆìœ¼ë‹ˆ ìˆ˜ì—´ì„ ë§Œë“¤ì§€ ì•Šê³  ë°”ë¡œ ê¸¸ì´ë¥¼ êµ¬í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?

ì—¬íƒœê¹Œì§€ ë§Œë“  ìˆ˜ì—´ì˜ ë§ˆì§€ë§‰ ìˆ«ìë³´ë‹¤ ìƒˆë¡œìš´ ìˆ«ìê°€ ë” í¬ë‹¤ë©´ í•´ë‹¹ ìˆ«ìë¥¼ ìˆ˜ì—´ì— ì¶”ê°€í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìš°ë¦¬ëŠ” ë‹¨ìˆœíˆ ê¸¸ì´ë¥¼ `1` ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ ì¬ê·€ í•¨ìˆ˜ê°€ ìˆ˜ì—´ì˜ ë§ˆì§€ë§‰ ìˆ«ìì™€ ë‹¤ìŒìœ¼ë¡œ ê³ ë ¤í•  ìˆ«ìì˜ ì¸ë±ìŠ¤ë§Œ ë°›ë„ë¡ ì¬ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë©´ ì¤‘ë³µë˜ëŠ” ì…ë ¥ìœ¼ë¡œ ì¬ê·€ í˜¸ì¶œì´ ì¼ì–´ë‚˜ì„œ [ë©”ëª¨ì´ì œì´ì…˜(memoization)](/algorithms/memoization/)ì„ í™œìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

```py
from functools import cache

class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        @cache
        def dfs(start, prev):
            if start == len(nums):
                return 0
            return max(
                dfs(start + 1, prev),  # not taken
                (
                    1 + dfs(start + 1, start)
                    if prev < 0 or nums[prev] < nums[start]
                    else 0
                ),  # taken
            )

        return dfs(0, -1)
```

ì´ í’€ì´ëŠ” ì‹œê°„ ë³µì¡ë„ëŠ” ë©”ëª¨ì´ì œì´ì…˜ íš¨ê³¼ë¡œ ì¤‘ë³µ ì—°ì‚°ì´ ì œê±°ë˜ì–´ `O(n^2)`ìœ¼ë¡œ ëŒ€í­ í–¥ì‹±ì´ ë©ë‹ˆë‹¤.
ë” ì´ìƒ ì¬ê·€ í•¨ìˆ˜ì— ë°°ì—´ì„ ë³µì œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê³µê°„ ë³µì¡ë„ë„ `O(n)`ìœ¼ë¡œ ê°œì„ ë  ê²ƒì´ë¹ˆë‹¤.

ì¬ê·€ í•¨ìˆ˜ê°€ ì–´ë–»ê²Œ í˜¸ì¶œë˜ê³  ì–¸ì œ ìºì‹œì— ì €ì¥ëœ ê°’ì´ ì‚¬ìš©ë˜ëŠ”ì§€ íŒŒì•…í•˜ê¸° ì‰½ë„ë¡ ì „ì²´ í˜¸ì¶œ íŠ¸ë¦¬ë¥¼ ì‹œê°í™”í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

```py
F(-1, 0) = max(2, 2 + 1) = 3
    F(-1, 1) => max(2, 1 + 1) = 2
        F(-1, 2) => max(1, 1 + 1) = 2
            F(-1, 3) => max(0, 1 + 0) = 1
                F(-1, 4) => 0
                F(3, 4) => 0
            F(2, 3) => max(0, 1 + 0) = 1
                F(2, 4) => 0
                F(3, 4) => âœ… cache hit => 0
        F(1, 2) => max(1, 0) = 1
            F(1, 3) => max(0, 1 + 0) = 1
                F(1, 4) => 0
                F(3, 4) => âœ… cache hit => 0
    F(0, 1) => max(2, 1 + 1) = 2
        F(0, 2) => max(1, 1 + 1) = 2
            F(0, 3) => max(0, 1 + 0) = 1
                F(0, 4) => 0
                F(3, 4) => âœ… cache hit => 0
        F(1, 2) => âœ… cache hit => 1
            F(1, 3) => âœ… cache hit => 1
                F(1, 4) => âœ… cache hit => 0
                F(3, 4) => âœ… cache hit => 0
```

## í’€ì´ 4

ì´ ë¬¸ì œëŠ” [ë™ì  ê³„íšë²•(Dynamic Programming)](/algorithms/dp/)ì´ë¼ëŠ” í…Œí¬ë‹‰ì„ ì‚¬ìš©í•˜ë©´ ë°˜ë³µ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œë„ í•´ê²°í•  ìˆ˜ ìˆëŠ”ë°ìš”.

ê¸°ë³¸ ì•„ì´ë””ì–´ëŠ” ì¸ë±ìŠ¤ `0`ë¶€í„° ì¸í…ìŠ¤ `n - 1`ì— ìˆëŠ” ìˆ«ìì—ì„œ ëë‚˜ëŠ” ë°°ì—´ì—ì„œ ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ ì•Œê³  ìˆìœ¼ë©´,
ì¸ë±ìŠ¤ `n`ì— ìˆëŠ” ìˆ«ìì™€ ëŒ€ì†Œ ë¹„êµë¥¼ í†µí•´ì„œ ì¸ë±ìŠ¤ `n`ì—ì„œ ëë‚˜ëŠ” ë°°ì—´ì—ì„œ ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë”°ë¼ì„œ `n`ì„ í•˜ë‚˜ì”© ëŠ˜ë ¤ê°€ë©´ì„œ ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ ì°¨ê³¡ ì°¨ê³¡ ë°°ì—´ì— ìŒ“ì•„ë‚˜ê°€ë©´,
ë” ì‘ì€ ì¸ë±ìŠ¤ì—ì„œ êµ¬í•œ ê²°ê³¼ ê°’ì„ ë” í° ì¸ë±ìŠ¤ì—ì„œ ê²°ê³¼ë¥¼ êµ¬í•  ë•Œ í™œìš©í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

ì¸ë±ìŠ¤ê°€ `0`ì¼ ë•ŒëŠ” ìˆ«ìê°€ í•˜ë‚˜ ë°–ì— ì—†ê¸° ë•Œë¬¸ì— ìˆ˜ì—´ì˜ ê¸¸ì´ê°€ `1`ì´ ë˜ê¸° ë•Œë¬¸ì—, ë°°ì—´ì˜ ì´ˆê¸°ê°’ìœ¼ë¡œ ëª¨ë‘ `1`ì„ ì €ì¥í•´ë†“ê³  ë°˜ë³µì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        dp = [1] * len(nums)
        for cur in range(1, len(nums)):
            for pre in range(cur):
                if nums[pre] < nums[cur]:
                    dp[cur] = max(1 + dp[pre], dp[cur])
        return max(dp)
```

ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ì„œ ìœ„ ë°˜ë³µ ì•Œê³ ë¦¬ì¦˜ì´ ìˆ˜í–‰ë˜ëŠ” ê³¼ì •ì„ ì‹œê°í™”í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

```py
dp[0] = 1

cur = 1
    pre = 0
        nums[0] = 1 < nums[1] = 2 âœ…
        dp[1] = max(dp[0] + 1, dp[1]) = max(1 + 1, 1) = 2

cur = 2
    pre = 0
        nums[0] = 1 == nums[2] = 1 âŒ
    pre = 1
        nums[1] = 2 > nums[2] = 1 âŒ

cur = 3
    pre = 0
        nums[0] = 1 < nums[3] = 3 âœ…
        dp[3] = max(dp[0] + 1, dp[3]) = max(1 + 1, 1) = 2
    pre = 1
        nums[1] = 2 < nums[3] = 3 âœ…
        dp[3] = max(dp[1] + 1, dp[3]) = max(2 + 1, 2) = 3
    pre = 2
        nums[2] = 1 < nums[3] = 3 âœ…
        dp[3] = max(dp[2] + 1, dp[3]) = max(1 + 1, 3) = 3
```

## í’€ì´ 5

ì´ ë¬¸ì œëŠ” ì§ê´€ì„ ë™ì›í•˜ì—¬ ì™„ì „íˆ ìƒˆë¡œìš´ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼í•´ë³¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ìš°ë¦¬ê°€ ì–¸ì œ ë¶€ë¶„ ìˆ˜ì—´ì— ìƒˆë¡œìš´ ìˆ«ìë¥¼ ë„£ëŠ”ì§€ë¥¼ ê´€ì°°í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?

ì–´ë–¤ ìˆ«ìê°€ ì—¬íƒœê¹Œì§€ êµ¬í•œ ë¶€ë¶„ ìˆ˜ì—´ì˜ ìµœëŒ€ ê°’ë³´ë‹¤ í¬ë‹¤ë©´ ê°„ë‹¨í•©ë‹ˆë‹¤.
ë¬´ì¡°ê±´ ë¶€ë¶„ ìˆ˜ì—´ì— ë„£ì–´ì•¼ í•©ë‹ˆë‹¤.

ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ìš°ë¦¬ì—ê²ŒëŠ” ì—¬ëŸ¬ ê°€ì§€ ê²½ìš°ì˜ ìˆ˜ê°€ ìƒê¸°ëŠ”ë°ìš”.
í•˜ì§€ë§Œ í•œ ê°€ì§€ í™•ì‹¤í•œ ê²ƒì€ ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ëŠ” ì§€ê¸ˆë³´ë‹¤ ëŠ˜ì–´ë‚  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì, ê·¸ëŸ¬ë©´ ìƒˆë¡œìš´ ìˆ«ìê°€ ì—¬íƒœê¹Œì§€ êµ¬í•œ ë¶€ë¶„ ìˆ˜ì—´ì˜ ìµœëŒ€ ê°’ë³´ë‹¤ ì‘ì„ ë•ŒëŠ” ì´ ìˆ«ìë¡œ ê¸°ì¡´ ìˆ˜ì—´ì— ìˆëŠ” ê°’ì„ ë°”ê¾¸ë©´ ì–´ë–¨ê¹Œìš”?

ì´ê²Œ ë§ë¡œë§Œì€ ì„¤ëª…ì´ ì¢€ ì–´ë ¤ì›Œì„œ ì œê°€ ì˜ˆì œë¥¼ í†µí•´ì„œ ì¶”ê°€ë¡œ ì„¤ëª…ì„ ë“œë¦´ê»˜ìš”. ğŸ˜…
ì…ë ¥ ë°°ì—´ë¡œ `[5, 1, 4, 2, 3]`ê°€ ì£¼ì–´ì¡Œë‹¤ê³  ìƒìƒì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.

ì²« ë²ˆì§¸ ìˆ«ìëŠ” ë¬´ì¡°ê±´ ë¶€ë¶„ ìˆ˜ì—´ì— ë„£ìŠµë‹ˆë‹¤.
ìˆ«ìê°€ í•˜ë‚˜ë„ ì—†ëŠ” ê²ƒ ë³´ë‹¤ëŠ” í•˜ë‚˜ë¼ë„ ìˆëŠ” ê²Œ ë¬´ì¡°ê±´ ìœ ë¦¬í• í…Œë‹ˆê¹Œìš”.

```py
nums = [5, 1, 4, 2, 3]
        ^
ë¶€ë¶„ ìˆ˜ì—´ = [] + [5]
```

ë‘ ë²ˆì§¸ ìˆ«ìëŠ” `1`ì€ ë¶€ë¶„ ìˆ˜ì—´ì˜ ìµœëŒ€ê°’ `5`ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.
ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” ê³ ë¯¼ì— ë¹ ì§€ëŠ”ë°ìš”... ğŸ¤”

`5`ì„ ê·¸ëŒ€ë¡œ ë‘ë©´ ì•ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ìˆ«ìê°€ ì ì–´ë„ `5`ë³´ë‹¤ëŠ” ì»¤ì•¼ì§€ ë¶€ë¶„ ìˆ˜ì—´ì— ë„£ì„ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
í•˜ì§€ë§Œ `1`ë¡œ ë°”ê¾¸ë©´ ì•ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ìˆ«ìê°€ `1`ë³´ë‹¤ë§Œ í¬ë©´ ë¶€ë¶„ ìˆ˜ì—´ì— ë„£ì„ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ `5`ì„ `1`ë¡œ ëŒ€ì²´í•´ë†“ëŠ” ê²ƒì´ í›¨ì”¬ ìœ ë¦¬í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ’¡

```py
nums = [5, 1, 4, 2, 3]
           ^
ë¶€ë¶„ ìˆ˜ì—´ = [5 ğŸ‘‰ 1]
```

ë‹¤ìŒ ìˆ«ì `4`ì€ ë¶€ë¶„ ìˆ˜ì—´ì˜ ìµœëŒ€ê°’ `1`ë³´ë‹¤ í½ë‹ˆë‹¤.
ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ ëŠ˜ë¦¬ê¸° ìœ„í•´ì„œ ì´ ìˆ«ìë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

```py
nums = [5, 1, 4, 2, 3]
              ^
ë¶€ë¶„ ìˆ˜ì—´ = [1] + [4]
```

ë‹¤ìŒ ìˆ«ì `2`ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì˜ ìµœëŒ€ê°’ `4`ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.
ìš°ë¦¬ëŠ” ë‘ ë²ˆì§¸ ìˆ«ìì—ì„œì™€ ë™ì¼í•œ ì´ìœ ë¡œ `4`ì„ `2`ë¡œ ë°”ê¿‰ë‹ˆë‹¤.

```py
nums = [5, 1, 4, 2, 3]
                 ^
ë¶€ë¶„ ìˆ˜ì—´ = [1, 4 ğŸ‘‰ 2]
```

ë‹¤ìŒ ìˆ«ì `3`ì€ ë¶€ë¶„ ìˆ˜ì—´ì˜ ìµœëŒ€ê°’ `2`ë³´ë‹¤ í½ë‹ˆë‹¤.
ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ ëŠ˜ë¦¬ê¸° ìœ„í•´ì„œ ì´ ìˆ«ìë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

```py
nums = [5, 1, 4, 2, 3]
                    ^
ë¶€ë¶„ ìˆ˜ì—´ = [1, 2] + [3]
```

ì´ë¥¼ í†µí•´ ìµœì¢…ì ìœ¼ë¡œ ê¸¸ì´ê°€ `3`ì¸ ë¶€ë¶„ ìˆ˜ì—´ `[1, 2, 3]`ì„ êµ¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ‰

ì´ ì ‘ê·¼ ë°©ì‹ì˜ í•œ ê°€ì§€ ë§¹ì ì€ ë¶€ë¶„ ìˆ˜ì—´ ì•ˆì— ë“¤ì–´ìˆëŠ” ìˆ«ìê°€ í‹€ë¦´ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, ì…ë ¥ ë°°ì—´ë¡œ `[2, 3, 4, 1]`ì´ ì£¼ì–´ì§€ë©´, ì¦ê°€í•˜ëŠ” ê°€ì¥ ê¸´ ë¶€ë¶„ ìˆ˜ì—´ì€ `[2, 3, 4]`ì´ì§€ë§Œ ì´ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ì„œ êµ¬í•˜ë©´ `[1, 3, 4]`ê°€ ë©ë‹ˆë‹¤.
í•˜ì§€ë§Œ ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë§Œ ì •í™•í•˜ë‹¤ë©´ í° ë¬¸ì œê°€ ë˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.

ì´ ì•Œê³ ë¦¬ì¦˜ì„ ì½”ë“œë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        sub = [nums[0]]
        for num in nums[1:]:
            # ì´ ìˆ«ìì™€ ë¶€ë¶„ ìˆ˜ì—´ì˜ ìµœëŒ€ê°’ë³´ë‹¤ í¬ë©´ ë¶€ë¶„ ìˆ˜ì—´ì— ë¬´ì¡°ê±´ ì¶”ê°€
            if num > sub[-1]:
                sub.append(num)
            else:
                # ë¶€ë¶„ ìˆ˜ì—´ì—ì„œ ì´ ìˆ«ìë³´ë‹¤ ê°€ì¥ ê°€ê¹ê²Œ í° ìˆ«ìë¥¼ ì°¾ì•„ì„œ ëŒ€ì²´
                i = 0
                while sub[i] < num:
                    i += 1
                sub[i] = num
        return len(sub)
```

ì´ í’€ì´ëŠ” ìµœì•…ì˜ ê²½ìš° `for` ë°˜ë³µë¬¸ ì•ˆì—ì„œ `while` ë°˜ëª©ë¬¸ì´ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— `O(n^2)`ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°–ìŠµë‹ˆë‹¤.
ê³µê°„ ë³µì¡ë„ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì„ ì €ì¥í•˜ëŠ” ë°°ì—´ ì•ˆì— ì…ë ¥ ë°°ì—´ì˜ ëª¨ë“  ìˆ«ìê°€ ì €ì¥ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ `O(n)`ì´ ë©ë‹ˆë‹¤.

## í’€ì´ 6

ìœ„ í’€ì´ëŠ” ì„ í˜• íƒìƒ‰ì„ ëŒ€ì‹ ì— [ì´ë¶„ íƒìƒ‰(binary search)](/algorithms/binary-search/)ì„ í•˜ë„ë¡ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íŒŒì´ì¬ì˜ `bisect` ëª¨ë“ˆì˜ `bisect_left()` í•¨ìˆ˜ëŠ” ì²« ë²ˆì§¸ ì¸ìë¡œ ë„˜ì–´ì˜¨ ë¦¬ìŠ¤íŠ¸ ì•ˆì— ë‘ ë²ˆì§¸ ì¸ìë¡œ ë„˜ì–´ì˜¨ ìˆ«ìë¥¼ ì •ë ¬ì„ ìœ ì§€í•˜ë ¤ë©´ ì–´ëŠ ìœ„ì¹˜ì— ì¶”ê°€í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.

`bisect_left()` í•¨ìˆ˜ê°€ ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•˜ë‹¤ë©´ í˜„ì¬ ë¶€ë¶„ ìˆ˜ì—´ì—ëŠ” ì¸ìë¡œ ë„˜ê¸´ ìˆ«ìë³´ë‹¤ í° ìˆ«ìëŠ” ì—†ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
ì´ ê²½ìš°, ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ ëŠ˜ë¦¬ê¸° ìœ„í•´ì„œ ì´ ìˆ«ìë¥¼ ë¶€ë¶„ ìˆ˜ì—´ì˜ ë§¨ ë’¤ì— ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.

`bisect_left()` í•¨ìˆ˜ê°€ ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë³´ë‹¤ ì‘ì€ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´, ê·¸ ìœ„ì¹˜ì— ìˆëŠ” ìˆ«ìë¥¼ ìƒˆë¡œìš´ ìˆ«ìë¡œ ë°”ê¿”ì£¼ë©´ ë˜ê² ìŠµë‹ˆë‹¤.

```py
from bisect import bisect_left


class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        sub = []
        for num in nums:
            index = bisect_left(sub, num)
            if index == len(sub):
                sub.append(num)
            else:
                sub[index] = num
        return len(sub)
```

ì´ë¶„ íƒìƒ‰ì´ ë•ë¶„ì— ì¸í•´ì„œ ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(n * log n)`ìœ¼ë¡œ í–¥ìƒë©ë‹ˆë‹¤.
