---
title: "Unique Paths"
tags:
  - leetcode
  - graph
  - dfs
  - recursion
  - dp
  - python
date: 2024-07-04
---

LeetCodeì˜ 62ë²ˆì§¸ ë¬¸ì œì¸ [Unique Paths](https://leetcode.com/problems/unique-paths/)ë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

`m x n` ê²©ì(grid)ì— ë¡œë´‡ì´ ìˆìŠµë‹ˆë‹¤.
ë¡œë´‡ì€ ì²˜ìŒì—ëŠ” ì¢Œì¸¡ ìƒë‹¨ ëª¨ì„œë¦¬(ì¦‰, `grid[0][0]`)ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.
ë¡œë´‡ì€ ìš°ì¸¡ í•˜ë‹¨ ëª¨ì„œë¦¬(ì¦‰, `grid[m - 1][n - 1]`)ë¡œ ì´ë™í•˜ë ¤ê³  í•©ë‹ˆë‹¤.
í•­ìƒ ë¡œë´‡ì€ ì˜¤ì§ ì•„ë˜ë‚˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œë§Œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‘ ì •ìˆ˜ `m`ê³¼ `n`ì´ ì£¼ì–´ì§€ë©´, ë¡œë´‡ì´ ìš°ì¸¡ í•˜ë‹¨ ëª¨ì„œë¦¬ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥í•œ ê³ ìœ í•œ ê²½ë¡œì˜ ìˆ˜ë¥¼ ë°˜í™˜í•˜ì‹œì˜¤.

## ì˜ˆì œ

```py
ì…ë ¥: m = 3, n = 7
ì¶œë ¥: 28
```

```py
ì…ë ¥: m = 3, n = 2
ì¶œë ¥: 3
```

## í’€ì´ 1

ì œì¼ ë¨¼ì € ê°€ì¥ ë‹¨ìˆœ ë¬´ì‹í•œ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼ì„ í•´ë³¼ê¹Œìš”?
ë¡œë´‡ì´ ì¢Œì¸¡ ìƒë‹¨ì—ì„œ ìš°ì¸¡ í•˜ë‹¨ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ë”°ì ¸ë³´ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, `3 x 2` ê²©ìì—ì„œ ë¡œë´‡ì´ ì›€ì§ì¼ ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ë”°ì ¸ë³´ê² ìŠµë‹ˆë‹¤.
ë¡œë´‡ì€ ê²©ìì˜ ê° ì§€ì ì—ì„œ ì˜¤ë¥¸ìª½ê³¼ ì•„ë˜, 2ê°€ì§€ ë°©í–¥ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ë°ìš”.
ì•„ë˜ ë°©í–¥ìœ¼ë¡œ ìš°ì„ ì ìœ¼ë¡œ ì´ë™í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ í†µí•´ ì´ 3ê°€ì§€ ê²½ë¡œë¥¼ êµ¬í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

```
(ğŸŸ©: ë¡œë´‡ì´ ì´ë™í•  ìˆ˜ ìˆëŠ” ì§€ì )

ğŸ¤–ğŸŸ©
ğŸŸ©ğŸŸ¥
ğŸŸ¥ğŸŸ¥
    ğŸ¤–ğŸŸ¥
    ğŸ¤–ğŸŸ©
    ğŸŸ©ğŸŸ¥
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸŸ©
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸ¤– ğŸ‘‰ ê²½ë¡œ 1
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 2
    ğŸ¤–ğŸ¤–
    ğŸŸ¥ğŸŸ©
    ğŸŸ¥ğŸŸ¥
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 3
```

ë¡œë´‡ì´ `grid[0][0]`ì™€ `grid[1][0]`ìœ„ì¹˜í•˜ê³  ìˆì„ ë•Œ ê²½ë¡œê°€ ë‘ ê°ˆë˜ë¡œ ê°ˆë¼ì§€ëŠ” ê²ƒì´ ë³´ì´ì‹œì£ ?
ì´ ì§€ì ì—ì„œëŠ” ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì›€ì§ì¼ ìˆ˜ë„ ìˆê³  ì•„ë˜ë¡œ ì›€ì§ì¼ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê·¸ëŸ¼ ì¬ê·€ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ë¡œë´‡ì´ ì´ë™í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ê¹Šì´ ìš°ì„  íƒìƒ‰(Depth First Search)í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        total = 0  # ê²½ë¡œì˜ ê°œìˆ˜

        def dfs(row, col):
            nonlocal total

            if row == m - 1 and col == n - 1:
                total += 1  # ìš°ì¸¡ í•˜ë‹¨ì— ë„ì°©
            if col + 1 < n:
                dfs(row, col + 1)  # ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™
            if row + 1 < m:
                dfs(row + 1, col)  # ì•„ë˜ë¡œ ì´ë™

        dfs(0, 0)
        return total
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(2^(m * n))`ì´ ë˜ëŠ”ë°ìš”.
ê° í•¨ìˆ˜ ë‚´ì—ì„œ ì¬ê·€ í˜¸ì¶œì´ ìµœëŒ€ ë‘ ë²ˆ ì¼ì–´ë‚˜ë©°, í˜¸ì¶œ ìŠ¤íƒì´ `m * n`ì— ë¹„ë¡€í•´ì„œ ê¹Šì–´ì§€ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
í˜¸ì¶œ ìŠ¤íƒì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê³ ë ¤í•˜ë©´ ê³µê°„ ë³µì¡ë„ëŠ” `O(m * n)`ì´ ë©ë‹ˆë‹¤.

ì´ ì½”ë“œëŠ” ì„±ëŠ¥ì´ ë„ˆë¬´ ì•ˆ ì¢‹ì•„ì„œ LeetCodeì— ì œì¶œí•˜ë©´ Time Limit Exceeded ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì…ë‹ˆë‹¤.

> ì¬ê·€ í•¨ìˆ˜ ë‚´ì—ì„œ `nonlocal` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì— ëŒ€í•´ì„œëŠ” [ê´€ë ¨ í¬ìŠ¤íŒ…](https://www.daleseo.com/python-global-nonlocal/)ì„ ì°¸ê³  ë°”ëë‹ˆë‹¤.

## í’€ì´ 2

ìœ„ì—ì„œ ê·¸ë¦° ë¡œë´‡ì´ ì´ë™í•˜ëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ë‹¤ì‹œ ì£¼ì˜ê¹Šê²Œ ì‚´í´ë³´ì‹œë©´, ë‘ ë²ˆì§¸ ê²½ë¡œì™€ ì„¸ ë²ˆì§¸ ê²½ë¡œ ê°„ì— ê²¹ì¹˜ëŠ” êµ¬ê°„ì´ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•˜ì‹¤ ìˆ˜ ìˆìœ¼ì‹¤ ê±°ì—ìš”.

```
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 2
```

```
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 3

```

ë°”ë¡œ `grid[1][1]`ì—ì„œ ì‹œì‘ë˜ëŠ” ê²½ë¡œê°€ ì¼ì¹˜í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆëŠ”ë°ìš”.
ë”°ë¼ì„œ ì´ ê²½ë¡œë¥¼ ì¤‘ë³µí•´ì„œ íƒìƒ‰í•˜ëŠ” ê²ƒì€ ë‚­ë¹„ê°€ ë  ê²ƒì…ë‹ˆë‹¤.

ë§Œì•½ì— ë‘ ë²ˆì§¸ ê²½ë¡œë¥¼ íƒìƒ‰í•  ë•Œ ì´ ì§€ì ì—ì„œ ì‹œì‘í•´ì„œ ìš°ì¸¡ í•˜ë‹¨ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ê²½ë¡œì˜ ìˆ˜ë¥¼ ì €ì¥í•´ë‘”ë‹¤ë©´,
ì„¸ ë²ˆì§¸ ê²½ë¡œë¥¼ íƒìƒ‰í•  ë•Œ í™œìš©í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
ì´ëŸ¬í•œ ì„±ëŠ¥ ìµœì í™” ê¸°ë²•ì„ [ë©”ëª¨ì´ì œì´ì…˜(memoization)](/algorithms/memoization/)ì´ë¼ê³ ë„ í•˜ì£ ?

ì¬ê·€ í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•´ë‘ì—ˆë‹¤ê³ , ì´ì „ì— ë‚˜ì™”ë˜ ì¢Œí‘œê°€ ì¸ìë¡œ ë„˜ì–´ì˜¤ë©´, ì €ì¥í•´ë‘” ê²°ê³¼ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
íŒŒì´ì¬ì—ì„œëŠ” ì¬ê·€ í•¨ìˆ˜ì— `@cache` ë°ì½”ë ˆì´í„°ë¥¼ ê°„ë‹¨í•˜ê²Œ ì´ëŸ¬í•œ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
from functools import cache

class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        @cache
        def dfs(row, col):
            if row == m - 1 and col == n - 1:
                return 1

            total = 0
            if row + 1 < m:
                total += dfs(row + 1, col)
            if col + 1 < n:
                total += dfs(row, col + 1)
            return total

        return dfs(0, 0)
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ìˆœì‹ê°„ì— `O(m * n)`ë¡œ í–¥ìƒì´ ë˜ëŠ”ë°ìš”.
ë©”ëª¨ì´ì œì´ì…˜ ë•ë¶„ì— ëª¨ë“  ì¢Œí‘œë¥¼ ìƒëŒ€ë¡œ ì¬ê·€ í•¨ìˆ˜ì˜ í˜¸ì¶œì„ ë”± í•œë²ˆë§Œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ”ë° `m * n`ì˜ ê³µê°„ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ê³µê°„ ë³µì¡ë„ëŠ” ì—¬ì „íˆ `O(m * n)`ì´ ë©ë‹ˆë‹¤.

## í’€ì´ 3

```py
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        dp = [[1] * n for _ in range(m)]

        for row in range(1, m):
            for col in range(1, n):
                dp[row][col] = dp[row - 1][col] + dp[row][col - 1]

        return dp[-1][-1]
```

## í’€ì´ 4

```py
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        up_row = [1] * n

        for _ in range(1, m):
            left = 1
            for col in range(1, n):
                left = up_row[col] + left
                up_row[col] = left

        return up_row[-1]
```
