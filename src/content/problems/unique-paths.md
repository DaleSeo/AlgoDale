---
title: "Unique Paths"
tags:
  - leetcode
  - graph
  - dfs
  - recursion
  - dp
  - python
date: 2024-07-04
---

<iframe width="560" height="315" src="https://www.youtube.com/embed/dXAIBrWbpoY?si=OX4u0dCuCmSmAiIG" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

LeetCodeì˜ 62ë²ˆì§¸ ë¬¸ì œì¸ [Unique Paths](https://leetcode.com/problems/unique-paths/)ë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

`m x n` ê²©ì(grid)ì— ë¡œë´‡ì´ ìˆìŠµë‹ˆë‹¤.
ë¡œë´‡ì€ ì²˜ìŒì— ì¢Œì¸¡ ìƒë‹¨ ëª¨ì„œë¦¬(ì¦‰, `grid[0][0]`)ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.
ë¡œë´‡ì€ ìš°ì¸¡ í•˜ë‹¨ ëª¨ì„œë¦¬(ì¦‰, `grid[m - 1][n - 1]`)ë¡œ ì´ë™í•˜ë ¤ê³  í•©ë‹ˆë‹¤.
ë¡œë´‡ì€ í•­ìƒ ì•„ë˜ë‚˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œë§Œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‘ ì •ìˆ˜ `m`ê³¼ `n`ì´ ì£¼ì–´ì§€ë©´, ë¡œë´‡ì´ ìš°ì¸¡ í•˜ë‹¨ ëª¨ì„œë¦¬ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ê³ ìœ í•œ ê²½ë¡œì˜ ê°¸ìˆ˜ë¥¼ ë°˜í™˜í•˜ì‹œì˜¤.

## ì˜ˆì œ

```py
ì…ë ¥: m = 3, n = 7
ì¶œë ¥: 28
```

```py
ì…ë ¥: m = 3, n = 2
ì¶œë ¥: 3
```

## í’€ì´ 1

ì œì¼ ë¨¼ì € ê°€ì¥ ë‹¨ìˆœ ë¬´ì‹í•œ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼ì„ í•´ë³¼ê¹Œìš”?
ë¡œë´‡ì´ ì¢Œì¸¡ ìƒë‹¨ì—ì„œ ìš°ì¸¡ í•˜ë‹¨ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ë”°ì ¸ë³´ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, `3 x 2` ê²©ìì—ì„œ ë¡œë´‡ì´ ì›€ì§ì¼ ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ë”°ì ¸ë³´ê² ìŠµë‹ˆë‹¤.
ë¡œë´‡ì€ ê²©ìì˜ ê° ì§€ì ì—ì„œ ì˜¤ë¥¸ìª½ì´ë‚˜ ì•„ë˜, ì´ë ‡ê²Œ 2ê°€ì§€ ë°©í–¥ìœ¼ë¡œë§Œ ì´ë™í•  ìˆ˜ ìˆëŠ”ë°ìš”.
ì•„ë˜ ë°©í–¥ìœ¼ë¡œ ìš°ì„ ì ìœ¼ë¡œ ì´ë™í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ í†µí•´ ì´ 3ê°€ì§€ ê²½ë¡œë¥¼ êµ¬í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

```
(ğŸŸ©: ë¡œë´‡ì´ ì´ë™í•  ìˆ˜ ìˆëŠ” ì§€ì )

ğŸ¤–ğŸŸ©
ğŸŸ©ğŸŸ¥
ğŸŸ¥ğŸŸ¥
    ğŸ¤–ğŸŸ¥
    ğŸ¤–ğŸŸ©
    ğŸŸ©ğŸŸ¥
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸŸ©
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸ¤– ğŸ‘‰ ê²½ë¡œ 1
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 2
    ğŸ¤–ğŸ¤–
    ğŸŸ¥ğŸŸ©
    ğŸŸ¥ğŸŸ¥
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 3
```

ë¡œë´‡ì´ `grid[0][0]`ì™€ `grid[1][0]`ìœ„ì¹˜í•˜ê³  ìˆì„ ë•Œ ê²½ë¡œê°€ ë‘ ê°ˆë˜ë¡œ ê°ˆë¼ì§€ëŠ” ê²ƒì´ ë³´ì´ì‹œì£ ?
ì´ ì§€ì ì—ì„œëŠ” ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì›€ì§ì¼ ìˆ˜ë„ ìˆê³  ì•„ë˜ë¡œ ì›€ì§ì¼ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê·¸ëŸ¼ ì¬ê·€ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ë¡œë´‡ì´ ì´ë™í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ê¹Šì´ ìš°ì„  íƒìƒ‰(Depth First Search)í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        total = 0  # ê²½ë¡œì˜ ê°œìˆ˜

        def dfs(row, col):
            nonlocal total

            if row == m - 1 and col == n - 1:
                total += 1  # ìš°ì¸¡ í•˜ë‹¨ì— ë„ì°©
            if row + 1 < m:
                dfs(row + 1, col)  # ì•„ë˜ë¡œ ì´ë™
            if col + 1 < n:
                dfs(row, col + 1)  # ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™

        dfs(0, 0)
        return total
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(2^(m * n))`ì´ ë˜ëŠ”ë°ìš”.
ê° í•¨ìˆ˜ ë‚´ì—ì„œ ì¬ê·€ í˜¸ì¶œì´ ìµœëŒ€ ë‘ ë²ˆ ì¼ì–´ë‚˜ë©°, í˜¸ì¶œ ìŠ¤íƒì´ ê²©ìì˜ ë„“ì´ì¸ `m * n`ì— ë¹„ë¡€í•´ì„œ ê¹Šì–´ì§€ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
í˜¸ì¶œ ìŠ¤íƒì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê³ ë ¤í•˜ë©´ ê³µê°„ ë³µì¡ë„ëŠ” `O(m * n)`ì´ ë©ë‹ˆë‹¤.

ì´ ì½”ë“œëŠ” ì„±ëŠ¥ì´ ë„ˆë¬´ ì•ˆ ì¢‹ì•„ì„œ LeetCodeì— ì œì¶œí•˜ë©´ Time Limit Exceeded ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì…ë‹ˆë‹¤.

> ì¬ê·€ í•¨ìˆ˜ ë‚´ì—ì„œ `nonlocal` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì— ëŒ€í•´ì„œëŠ” [ê´€ë ¨ í¬ìŠ¤íŒ…](https://www.daleseo.com/python-global-nonlocal/)ì„ ì°¸ê³  ë°”ëë‹ˆë‹¤.

## í’€ì´ 2

ìœ„ì—ì„œ ê·¸ë¦° ë¡œë´‡ì´ ì´ë™í•˜ëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ë‹¤ì‹œ ì£¼ì˜ê¹Šê²Œ ì‚´í´ë³´ì‹œë©´, ë‘ ë²ˆì§¸ ê²½ë¡œì™€ ì„¸ ë²ˆì§¸ ê²½ë¡œ ê°„ì— ê²¹ì¹˜ëŠ” êµ¬ê°„ì´ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•˜ì‹¤ ìˆ˜ ìˆìœ¼ì‹¤ ê±°ì—ìš”.

```
        ğŸ¤–ğŸŸ¥
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸŸ¥
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 2
```

```
        ğŸ¤–ğŸ¤–
        ğŸŸ¥ğŸ¤–
        ğŸŸ¥ğŸŸ©
            ğŸ¤–ğŸ¤–
            ğŸŸ¥ğŸ¤–
            ğŸŸ¥ğŸ¤– ğŸ‘‰ ê²½ë¡œ 3

```

ë°”ë¡œ `grid[1][1]`ì—ì„œ ì‹œì‘ë˜ëŠ” ê²½ë¡œê°€ ì¼ì¹˜í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆëŠ”ë°ìš”.
ë”°ë¼ì„œ ì´ ê²½ë¡œë¥¼ ì¤‘ë³µí•´ì„œ íƒìƒ‰í•˜ëŠ” ê²ƒì€ ë‚­ë¹„ê°€ ë  ê²ƒì…ë‹ˆë‹¤.

ë§Œì•½ì— ë‘ ë²ˆì§¸ ê²½ë¡œë¥¼ íƒìƒ‰í•  ë•Œ ì´ ì§€ì ì—ì„œ ì‹œì‘í•´ì„œ ìš°ì¸¡ í•˜ë‹¨ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ê²½ë¡œì˜ ìˆ˜ë¥¼ ì €ì¥í•´ë‘”ë‹¤ë©´,
ì„¸ ë²ˆì§¸ ê²½ë¡œë¥¼ íƒìƒ‰í•  ë•Œ í™œìš©í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
ì´ëŸ¬í•œ ì„±ëŠ¥ ìµœì í™” ê¸°ë²•ì„ [ë©”ëª¨ì´ì œì´ì…˜(memoization)](/algorithms/memoization/)ì´ë¼ê³ ë„ í•˜ì£ ?

ì¬ê·€ í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•´ë‘ì—ˆë‹¤ê°€, ì´ì „ì— ë‚˜ì™”ë˜ ì¢Œí‘œê°€ ì¸ìë¡œ ë„˜ì–´ì˜¤ë©´, ì €ì¥í•´ë‘” ê²°ê³¼ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
íŒŒì´ì¬ì—ì„œëŠ” ì¬ê·€ í•¨ìˆ˜ì— `@cache` ë°ì½”ë ˆì´í„°ë¥¼ ê°„ë‹¨í•˜ê²Œ ì´ëŸ¬í•œ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
from functools import cache

class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        @cache
        def dfs(row, col):
            if row == m - 1 and col == n - 1:
                return 1

            total = 0
            if row + 1 < m:
                total += dfs(row + 1, col)
            if col + 1 < n:
                total += dfs(row, col + 1)
            return total

        return dfs(0, 0)
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ìˆœì‹ê°„ì— `O(m * n)`ë¡œ í–¥ìƒì´ ë˜ëŠ”ë°ìš”.
ë©”ëª¨ì´ì œì´ì…˜ ë•ë¶„ì— ëª¨ë“  ì¢Œí‘œë¥¼ ìƒëŒ€ë¡œ ì¬ê·€ í•¨ìˆ˜ì˜ í˜¸ì¶œì´ ë”± í•œë²ˆë§Œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ”ë° ê²©ìì˜ ë„“ì´ì— ë¹„ë¡€í•˜ëŠ” ê³µê°„ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ê³µê°„ ë³µì¡ë„ëŠ” ì—¬ì „íˆ `O(m * n)`ì´ ë©ë‹ˆë‹¤.

## í’€ì´ 3

ìœ„ ì¬ê·€ ì•Œê³ ë¦¬ì¦˜ì—ì„œëŠ” ì–´ë–¤ ì§€ì ì—ì„œ **ì¶œë°œ**í–ˆì„ ë•Œ ìš°ì¸¡í•˜ë‹¨ì— ë„ì°©í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ì„œ,
ë°”ë¡œ ì•„ë˜ ì§€ì ì—ì„œ ì¶œë°œí•  ë•Œì˜ ê²½ë¡œì˜ ìˆ˜ì™€ ë°”ë¡œ ìš°ì¸¡ ì§€ì ì—ì„œ ì¶œë°œí•  ë•Œì˜ ê²½ë¡œì˜ ìˆ˜ë¥¼ ë”í–ˆëŠ”ë°ìš”.

ì´ë²ˆì—ëŠ” ë°˜ëŒ€ë¡œ ì¢Œì¸¡ìƒë‹¨ìœ¼ë¡œë¶€í„° ì–´ë–¤ ì§€ì ì— **ë„ì°©**í•  ìˆ˜ ìˆëŠ” ê²½ë¡œì˜ ìˆ˜ë¥¼ êµ¬í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?
ë°”ë¡œ ìœ„ ì§€ì ì— ë„ì°©í•  ìˆ˜ ìˆëŠ” ê²½ë¡œì˜ ìˆ˜ì™€ ë°”ë¡œ ì™¼ìª½ ì§€ì ì— ë„ì°©í•  ìˆ˜ ìˆëŠ” ê²½ë¡œì˜ ìˆ˜ë¥¼ ë”í•˜ë©´ ë  ê²ƒì…ë‹ˆë‹¤.

ì´ë ‡ê²Œ ì ‘ê·¼ ë°©í–¥ì„ ë°”ê¾¸ë©´ [ë™ì  ê³„íšë²•(Dynamic Programming)](/algorithms/dp/)ì„ í†µí•´ì„œ ë°˜ë³µ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œë„ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê¸°ë³¸ ì•„ì´ë””ì–´ëŠ” ì´ì°¨ì› ë°°ì—´ì— ë” ìœ„ë‚˜ ì¢Œì¸¡ì˜ ê²°ê³¼ê°’ì„ ì €ì¥í•´ë‘ê³ , ë” ì•„ë˜ë‚˜ ìš°ì¸¡ì˜ ê²°ê³¼ê°’ì„ êµ¬í•  ë•Œ ì¬í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ì°¨ì› ë°°ì—´ì„ `dp`ë¼ê³  í•˜ê³ , í˜„ì¬ í–‰ì˜ ì¸ë±ìŠ¤ë¥¼ `row`, ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ `col`ì´ë¼ê³  í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê³µì‹ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
dp[row][col] = dp[row - 1][col] + dp[row][col - 1]
```

ìš°ì„  ë§¨ ìœ„ì— ìˆëŠ” í–‰ê³¼ ë§¨ ì¢Œì¸¡ì— ìˆëŠ” ì—´ì— ë„ì°©í•  ìˆ˜ ìˆëŠ” ê²½ë¡œì˜ ìˆ˜ëŠ” ëª¨ë‘ 1ì´ ë©ë‹ˆë‹¤.

```py
11
1?
1?
```

`dp[1][1]`ì— ê°’ì€ `dp[0][1]`ê³¼ `dp[1][0]`ì„ ë”í•œ `1 + 1 = 2`ê°€ ë©ë‹ˆë‹¤.

```py
11
12
1?
```

`dp[2][1]`ì— ê°’ì€ `dp[1][1]`ê³¼ `dp[2][0]`ì„ ë”í•œ `2 + 1 = 3`ì´ ë©ë‹ˆë‹¤.

```py
11
12
13
```

ì´ ì•Œê³ ë¦¬ì¦˜ì„ ì½”ë“œë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        dp = [[1] * n for _ in range(m)]

        for row in range(1, m):
            for col in range(1, n):
                dp[row][col] = dp[row - 1][col] + dp[row][col - 1]

        return dp[-1][-1]
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ì™¸ë¶€ ë£¨í”„ì—ì„œ `m`ë²ˆ ë°˜ë³µí•˜ê³  ë‚´ë¶€ ë£¨í”„ì—ì„œ `n`ë²ˆ ë°˜ë³µí•˜ë¯€ë¡œ `O(m * n)`ì…ë‹ˆë‹¤.
ê³µê°„ ë³µì¡ë„ëŠ” ì´ì°¨ì› ë°°ì—´ì˜ í¬ê¸°ê°€ ê²©ìì˜ ë„“ì´ì¸ `m * n`ì— ë¹„ë¡€í•˜ë¯€ë¡œ ì—­ì‹œ `O(m * n)`ì´ ë˜ê² ìŠµë‹ˆë‹¤.

## í’€ì´ 4

ê²©ìì˜ ê° ì§€ì ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ê²½ë¡œì˜ ìˆ˜ë¥¼ ëª¨ë‘ ì €ì¥í•  í•„ìš”ê°€ ìˆì„ê¹Œìš”?
ë°”ë¡œ ìœ„ì— ìˆëŠ” ì§€ì ë“¤ì˜ ê²°ê³¼ê°’ë§Œ ì €ì¥í•´ë‘ì–´ë„ ì¶©ë¶„í•  ê²ƒì…ë‹ˆë‹¤.

ë”°ë¼ì„œ ê·¸ëƒ¥ ì¼ì°¨ì› ë°°ì—´ê³¼ ë³€ìˆ˜ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•´ì„œ êµ¬í˜„í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```py
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        up_row = [1] * n

        for _ in range(1, m):
            left = 1
            for col in range(1, n):
                left += up_row[col]
                up_row[col] = left

        return up_row[-1]
```

ì´ë ‡ê²Œ ìµœì í™”ë¥¼ í•´ì£¼ë©´ ê³µê°„ ë³µì¡ë„ë¥¼ `O(n)`ë¡œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
