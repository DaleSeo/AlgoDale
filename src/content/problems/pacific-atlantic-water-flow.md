---
title: "Pacific Atlantic Water Flow"
tags:
  - leetcode
  - array
  - matrix
  - graph
  - dfs
  - recursion
  - stack
  - set
  - python
date: 2023-10-09
---

LeetCodeì˜ 417ë²ˆì§¸ ë¬¸ì œì¸ [Pacific Atlantic Water Flow](https://leetcode.com/problems/pacific-atlantic-water-flow/)ë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

`m x n` í¬ê¸°ì˜ ì§ì‚¬ê°í˜• ì„¬ì´ íƒœí‰ì–‘ê³¼ ëŒ€ì„œì–‘ì— ëª¨ë‘ ì ‘í•´ ìžˆìŠµë‹ˆë‹¤.
íƒœí‰ì–‘ì€ ì„¬ì˜ ì¢Œì¸¡ê³¼ ìƒë‹¨ ê°€ìž¥ìžë¦¬ì™€ ì ‘ì´‰í•˜ë©°, ëŒ€ì„œì–‘ì€ ì„¬ì˜ ìš°ì¸¡ê³¼ í•˜ë‹¨ ê°€ìž¥ìžë¦¬ì™€ ì ‘ì´‰í•©ë‹ˆë‹¤.

ì´ ì„¬ì€ ì •ì‚¬ê°í˜• ì¹¸(cell)ì˜ í–‰ë ¬(grid)ë¡œ ë¶„í• ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.
`m x n` ì •ìˆ˜ í–‰ë ¬ `heights`ê°€ ì£¼ì–´ì§€ë©°, `heights[r][c]`ëŠ” ì¢Œí‘œ `(r, c)`ì€ ì¹¸ì˜ í•´ìˆ˜ë©´ ìœ„ì˜ ë†’ì´ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

ì´ ì„¬ì€ ë§Žì€ ë¹„ê°€ ë‚´ë¦¬ë©°, ë¹„ê°€ í˜„ìž¬ ì¹¸ì˜ ë†’ì´ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ì€ ê²½ìš° ì£¼ë³€ ì¹¸ë¡œ ì§ì ‘ ë¶ìª½, ë‚¨ìª½, ë™ìª½ ë° ì„œìª½ìœ¼ë¡œ íë¥¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  í•´ì–‘ì— ì¸ì ‘í•œ ì–´ë–¤ ì¹¸ì—ì„œë“  í•´ì–‘ìœ¼ë¡œ íë¥¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

`(ri, ci)`ì¹¸ë¡œ ë¶€í„° ë¹„ê°€ íƒœí‰ì–‘ê³¼ ëŒ€ì„œì–‘ ì–‘ìª½ìœ¼ë¡œ íë¥¼ ìˆ˜ ìžˆìŒì„ `result[i] = [ri, ci]`ìœ¼ë¡œ ë‚˜íƒ€ë‚´ëŠ” ì´ì°¨ì› ë°°ì—´ì„ `result`ë¥¼ ë°˜í™˜í•˜ì‹œì˜¤.

## ì˜ˆì œ

```py
Input: heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]
Output: [[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]
```

```py
Input: heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]
Output: [[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]
```

## í’€ì´ 1

ì´ ë¬¸ì œë¥¼ í‘¸ëŠ” ê°€ìž¥ ë‹¨ìˆœ ë¬´ì‹í•œ ë°©ë²•ì€ ì£¼ì–´ì§„ ì´ì°¨ì› ë°°ì—´ ë‚´ì˜ ê° ì„¬ì—ì„œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ë”°ì ¸ë³´ëŠ” ê²ƒìž…ë‹ˆë‹¤.

ê° ì„¬ì„ ê·¸ëž˜í”„ì˜ ì •ì (vertex)ë¼ê³  ìƒê°í•˜ê³ , ì¢Œìš°ì•„ëž˜ì— ìžˆëŠ” ì„¬ ì¤‘ì—ì„œ ë†’ì´ê°€ ìž‘ê±°ë‚˜ ë™ì¼í•œ ì„¬ê³¼ ê°„ì„ (edge)ì´ ìžˆë‹¤ê³  ìƒìƒí•´ë³´ì„¸ìš”.
ê·¸ëŸ¬ë©´ ê° ì„¬ì—ì„œ ê·¸ëž˜í”„ íƒìƒ‰ì„ ì‹œìž‘í•˜ë©´ ë¹„ê°€ íƒœí‰ì–‘(Pacific Ocean)ê³¼ ëŒ€ì„œì–‘(Atlantic Ocean)ìœ¼ë¡œ íë¥´ëŠ”ì§€ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìžˆì„ ê²ƒìž…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, 2ë²ˆì§¸ ì—´ì˜ 4ë²ˆì§¸ í–‰ì— ìžˆëŠ” ì„¬ì—ì„œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ìˆ˜ë¥¼ ì°¾ì•„ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ë°ìš”.

```py
(1, 3)
        (1, 2)
                (1, 1)
                        (0, 1)ðŸ…¿ï¸
                (0, 2)ðŸ…¿ï¸
        (1, 4)ðŸ…°ï¸
        (0, 3)ðŸ…¿ï¸
        (2, 3)
                (2, 4)ðŸ…°ï¸
```

íƒœí‰ì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ê²½ë¡œê°€ 3ê°€ì§€ì´ê³ , ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ê²½ë¡œê°€ 2ê°€ì§€ìž…ë‹ˆë‹¤.
ë”°ë¼ì„œ ìš°ë¦¬ëŠ” `(1, 3)` ìœ„ì¹˜ì— ìžˆëŠ” ì„¬ì—ì„œëŠ” ë¹„ê°€ íƒœí‰ì–‘ê³¼ ëŒ€ì„œì–‘ ì–‘ìª½ìœ¼ë¡œ íë¥¼ ìˆ˜ ìžˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ ì˜ˆë¡œ, 3ë²ˆì§¸ ì—´ì˜ 3ë²ˆì§¸ í–‰ì— ìžˆëŠ” ì„¬ì— ëŒ€í•´ì„œ ìƒê°í•´ë³¼ê¹Œìš”?

```py
(2, 2)
        (2, 1)
                (2, 0)ðŸ…¿ï¸
                (1, 1)
                        (0, 1)ðŸ…¿ï¸
        (2, 3)
                (2, 4)ðŸ…°ï¸
        (1, 2)
                (1, 1)
                        (0, 1)ðŸ…¿ï¸
                (0, 2)ðŸ…¿ï¸
        (3, 2)
                (4, 2)ðŸ…°ï¸
```

ì´ë²ˆì—ëŠ” íƒœí‰ì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ê²½ë¡œê°€ 4ê°€ì§€ì´ê³ , ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ê²½ë¡œê°€ 2ê°€ì§€ìž…ë‹ˆë‹¤.
ë”°ë¼ì„œ ë§ˆì°¬ê°€ì§€ë¡œ ìš°ë¦¬ëŠ” `(2, 2)` ìœ„ì¹˜ì— ìžˆëŠ” ì„¬ì—ì„œëŠ” ë¹„ê°€ íƒœí‰ì–‘ê³¼ ëŒ€ì„œì–‘ ì–‘ìª½ìœ¼ë¡œ íë¥¼ ìˆ˜ ìžˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ë°˜ë©´ì— 4ë²ˆì§¸ í–‰ì˜ 4ë²ˆì§¸ ì—´ì— ìžˆëŠ” ì„¬ì—ì„œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ë”°ì ¸ë³´ë©´,
ì´ë²ˆì—ëŠ” ëŒ€ì„œì–‘ìœ¼ë¡œë§Œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```py
(3, 3)
        (3, 2)
                (4, 2)ðŸ…°ï¸
        (2, 3)
                (2, 4)ðŸ…°ï¸
        (4, 3)ðŸ…°ï¸
```

ë§ˆì°¬ê°€ì§€ë¡œ 2ë²ˆì§¸ í–‰ì˜ 2ë²ˆì§¸ ì—´ì— ìžˆëŠ” ì„¬ì—ì„œ ë¹„ê°€ íë¥¼ ìˆ˜ ìž‡ëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ìƒê°í•´ë³´ë©´,
íƒœí‰ì•¼ìœ¼ë¡œë§Œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```py
(1, 1)
        (0, 1)ðŸ…¿ï¸
```

ê·¸ëŸ¼ ì´ ì•Œê³ ë¦¬ì¦˜ì„ ê¹Šì´ ìš°ì„  íƒìƒ‰ì„ ì´ìš©í•˜ì—¬ ì½”ë“œë¡œ ìž‘ì„±í•´ë³¼ê¹Œìš”?
íƒœí‰ì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ê³¼ ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì„ ê°ê° ë‹¤ë¥¸ ìž¬ê·€ í•¨ìˆ˜ë¡œ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤.
í•œ ë²ˆ ë°©ë¬¸í•œ ì„¬ì„ ë‹¤ì‹œ ë°©ë¬¸ í•˜ë©´ ì•ˆ ë˜ë¯€ë¡œ [ì§‘í•©(Set)](/data-structures/set/) ìžë£Œêµ¬ì¡°ì— ë°©ë¬¸í•œ ì„¬ì˜ ì¢Œí‘œë¥¼ ì €ìž¥í•˜ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def pacificAtlantic(self, heights: List[List[int]]) -> List[List[int]]:
        n_rows, n_cols = len(heights), len(heights[0])

        def dfs_pac(row, col, visited):
            if (row, col) in visited:
                return False
            visited.add((row, col))

            if row == 0 or col == 0:
                return True

            for r, c in [
                (row, col - 1),
                (row, col + 1),
                (row - 1, col),
                (row + 1, col),
            ]:
                if 0 <= r < n_rows and 0 <= c < n_cols:
                    if heights[row][col] >= heights[r][c]:
                        if dfs_pac(r, c, visited):
                            return True
            return False

        def dfs_atl(row, col, visited):
            if (row, col) in visited:
                return False
            visited.add((row, col))

            if row == n_rows - 1 or col == n_cols - 1:
                return True

            for r, c in [
                (row, col - 1),
                (row, col + 1),
                (row - 1, col),
                (row + 1, col),
            ]:
                if 0 <= r < n_rows and 0 <= c < n_cols:
                    if heights[row][col] >= heights[r][c]:
                        if dfs_atl(r, c, visited):
                            return True
            return False

        result = []
        for row in range(n_rows):
            for col in range(n_cols):
                if dfs_pac(row, col, set()) and dfs_atl(row, col, set()):
                    result.append((row, col))
        return result
```

ìž…ë ¥ ë°°ì—´ì˜ í–‰ì˜ ìˆ˜ë¥¼ `r` ì—´ì˜ ìˆ˜ë¥¼ `n`ì´ë¼ê³  í–ˆì„ ë•Œ, ëª¨ë“  ì„¬ì— ëŒ€í•´ì„œ ë‘ ë²ˆì˜ ê¹Šì´ ìš°ì„  íƒìƒ‰ì´ ì¼ì–´ë‚˜ë¯€ë¡œ ì´ í’€ì´ì˜ ì‹œê°„ ë³µìž¡ë„ëŠ” `O((r * c)^2)`ì´ ë©ë‹ˆë‹¤.
ê³µê°„ ë³µìž¡ë„ëŠ” ìž¬ê·€ í˜¸ì¶œ ìŠ¤íƒì˜ ê¹Šì´ê°€ ê·¸ëž˜í”„ì˜ ìµœëŒ€ ê¹Šì´ì™€ ë¹„ë¡€í•˜ë¯€ë¡œ `O(r * c)`ì´ ë©ë‹ˆë‹¤.

## í’€ì´ 2

ì‚´ì§ ë°œìƒì„ ì „í™˜í•˜ì—¬ ê·¸ëž˜í”„ íƒìƒ‰ì„ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ í•´ë³´ëŠ” ê²ƒì€ ì–´ë–¨ê¹Œìš”?

ê° ì„¬ì—ì„œ ë°”ë‹¤ë¡œ ë¬¼ì´ í˜ëŸ¬ë‚´ë ¤ì˜¬ ìˆ˜ ìžˆì„ì§€ë¥¼ ìƒê°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,
ë°˜ëŒ€ë¡œ ë°”ë‹¤ì—ì„œ ê° ì„¬ìœ¼ë¡œ ë¬¼ì´ í˜ëŸ¬ì˜¬ë¼ê°ˆ ìˆ˜ ìžˆëŠ”ì§€ë¥¼ ìƒê°í•´ë³´ëŠ” ê±°ì—ìš”.

ì´ë ‡ê²Œ ì ‘ê·¼í•˜ë©´ í•„ìš”í•œ ê·¸ëž˜í”„ íƒìƒ‰ì˜ ì–‘ì„ íšê¸°ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìžˆëŠ”ë°ìš”.
ì™œëƒí•˜ë©´ ë°”ë‹¤ì— ë‹¿ê³  ìžˆëŠ” ê°€ìž¥ìžë¦¬ì— ìžˆëŠ” ì„¬ì— ëŒ€í•´ì„œë§Œ íƒìƒ‰ì„ ì‹œìž‘í•´ë„ ë˜ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.

ê¸°ë³¸ ì•„ì´ë””ì–´ëŠ” ê°€ìž¥ìžë¦¬ì— ìžˆëŠ” ê° ì„¬ì—ì„œ ë°”ë‹·ë¬¼ì´ ì¶œë°œí•˜ì—¬ í™€ëŸ¬ì˜¬ë¼ê°ˆ ìˆ˜ ìžˆëŠ” ëª¨ë“  ì„¬ì„ ì¤‘ë³µ ì—†ì´ ì°¾ëŠ” ê²ƒìž…ë‹ˆë‹¤.
ìš°ì„  ì¢Œì¸¡ê³¼ ìƒë‹¨ ê°€ìž¥ìžë¦¬ ì„¬ì—ì„œëŠ” íƒœí‰ì–‘ ë¬¼ì´ í˜ëŸ¬ì˜¬ë¼ê°ˆ ìˆ˜ ìžˆëŠ” ìœ ì¼í•œ ì„¬ë“¤ì„ ì°¾ê³ ,
ë‹¤ìŒìœ¼ë¡œ ìš°ì¸¡ê³¼ í•˜ë‹¨ ê°€ìž¥ìžë¦¬ ì„¬ì—ì„œëŠ” ëŒ€ì„œì–‘ ë¬¼ì´ í˜ëŸ¬ì˜¬ê°€ê°ˆ ìˆ˜ ìžˆëŠ” ìœ ì¼í•œ ì„¬ë“¤ì„ ì°¾ìŠµë‹ˆë‹¤.
ìµœì¢…ì ìœ¼ë¡œ ì´ ë‘ ê°œì˜ ê·¸ë£¹ì— ëª¨ë‘ ì†í•˜ëŠ” ì„¬ì´ ìš°ë¦¬ê°€ ì°¾ê³ ìž í•˜ëŠ” ì„¬ë“¤ì´ ë˜ê² ì£ ?

ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ì„œ ê¹Šì´ ìš°ì„  íƒìƒ‰ ê³¼ì •ì„ í•œ ë²ˆ ì‹œê°í™”í•´ë³´ê² ìŠµë‹ˆë‹¤.
âœ…ì€ ìƒˆë¡œìš´ ì„¬ì„ ì°¾ì•˜ë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ê³ , âŒì€ ì¤‘ë³µë˜ëŠ” ì„¬ì„ ì°¾ì•˜ë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

ìš°ì„  íƒœí‰ì–‘ê³¼ ì ‘í•˜ëŠ” ì¢Œì¸¡ ê°€ìž¥ìžë¦¬ ì„¬ë“¤ì„ ìœ„ì—ì„œ ë¶€í„° ì•„ëž˜ë¡œ ìƒˆë¡œ ë°©í–¥ íƒìƒ‰í•©ë‹ˆë‹¤.
íƒœí‰ì–‘ìœ¼ë¡œ ë¬¼ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” 13ê°œì˜ ì„¬ì„ ì°¾ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```py
(0, 0)âœ…
        (1, 0)âœ…
        (0, 1)âœ…
                (1, 1)âœ…
                        (2, 1)âœ…
                                (3, 1)âœ…
                                (2, 2)âœ…
                        (0, 1)âŒ
                        (1, 2)âœ…
                                (2, 2)âŒ
                                (1, 3)âœ…
                                        (1, 4)âœ…
                                                (0, 4)âœ…
                                                (1, 3)âŒ
                        (1, 0)âŒ
                (0, 2)âœ…
                        (1, 2)âŒ
                        (0, 3)âœ…
                                (1, 3)âŒ
                                (0, 4)âŒ
                        (0, 1)âŒ
(0, 1)âŒ
(0, 2)âŒ
(0, 3)âŒ
(0, 4)âŒ
(0, 0)âŒ

íƒœí‰ì–‘ ì§‘í•©: {(0, 0), (1, 0), (0, 1), (1, 1), (2, 1), (3, 1), (2, 2), (1, 2), (1, 3), (1, 4), (0, 4), (0, 2), (0, 3)}
```

ê·¸ ë‹¤ìŒ íƒœí‰ì–‘ê³¼ ì ‘í•˜ëŠ” ìƒë‹¨ ê°€ìž¥ìžë¦¬ë¦¬ ì„¬ë“¤ì„ ì™¼ìª½ë¶€í„° ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ë¡œ ë°©í–¥ íƒìƒ‰í•©ë‹ˆë‹¤.
ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì„ ì¶”ê°€ì ìœ¼ë¡œ 3ê°œ ë” ì°¾ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```py
(1, 0)âŒ
(2, 0)âœ…
        (3, 0)âœ…
                (3, 1)âŒ
        (1, 0)âŒ
        (2, 1)âŒ
(3, 0)âŒ
(4, 0)âœ…
        (3, 0)âŒ

íƒœí‰ì–‘ ì§‘í•©: {(0, 0), (1, 0), (0, 1), (1, 1), (2, 1), (3, 1), (2, 2), (1, 2), (1, 3), (1, 4), (0, 4), (0, 2), (0, 3), (2, 0), (3, 0), (4, 0)}
```

ì´ì œ ëŒ€ì„œì–‘ê³¼ ì ‘í•˜ëŠ” í•˜ë‹¨ ê°€ìž¥ìžë¦¬ ì„¬ë“¤ì„ ì™¼ìª½ë¶€í„° ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ë¡œ ë°©í–¥ íƒìƒ‰í•©ë‹ˆë‹¤.
ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” 11ê°œì˜ ì„¬ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.

```py
(4, 0)âœ…
        (3, 0)âœ…
                (3, 1)âœ…
(4, 1)âœ…
        (3, 1)âŒ
        (4, 2)âœ…
                (3, 2)âœ…
                        (4, 2)âŒ
                        (2, 2)âœ…
                        (3, 3)âœ…
                                (3, 4)âœ…
                        (3, 1)âŒ
                (4, 3)âœ…
                        (3, 3)âŒ
                        (4, 4)âœ…
                                (3, 4)âŒ
                (4, 1)âŒ
        (4, 0)âŒ
(4, 2)âŒ
(4, 3)âŒ
(4, 4)âŒ

ëŒ€ì„œì–‘ ì§‘í•©: {(4, 0), (3, 0), (3, 1), (4, 1), (4, 2), (3, 2), (2, 2), (3, 3), (3, 4), (4, 3), (4, 4)}
```

ê·¸ ë‹¤ìŒ ëŒ€ì„œì–‘ê³¼ ì ‘í•˜ëŠ” ìš°ì¸¡ ê°€ìž¥ìžë¦¬ ì„¬ë“¤ì„ ìœ„ë¶€í„° ì•„ëž˜ë¡œ ì„¸ë¡œ ë°©í–¥ íƒìƒ‰í•©ë‹ˆë‹¤.
ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì„ ì¶”ê°€ì ìœ¼ë¡œ 5ê°œ ë” ì°¾ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```py
(0, 4)âœ…
(1, 4)âœ…
        (0, 4)âŒ
        (1, 3)âœ…
                (1, 4)âŒ
(2, 4)âœ…
        (3, 4)âŒ
        (1, 4)âŒ
        (2, 3)âœ…
                (3, 3)âŒ
                (1, 3)âŒ
                (2, 2)âŒ
(3, 4)âŒ
(4, 4)âŒ

ëŒ€ì„œì–‘ ì§‘í•©: {(4, 0), (3, 0), (3, 1), (4, 1), (4, 2), (3, 2), (2, 2), (3, 3), (3, 4), (4, 3), (4, 4), (0, 4), (1, 4), (1, 3), (2, 4), (2, 3)}
```

ìµœì¢…ì ìœ¼ë¡œ íƒœí‰ì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì˜ ì§‘í•©ê³¼ ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì˜ ì§‘í•©ì˜ êµì§‘í•©ì„ êµ¬í•´ë³´ë©´ ì´ 7ê°œì˜ ì„¬ì„ ì–»ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ðŸ…¿ï¸ëŠ” íƒœí‰ì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì„ ë‚˜íƒ€ë‚´ê³ , ðŸ…°ï¸ëŠ” ëŒ€ì„œì–‘ìœ¼ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì„ ë‚˜íƒ€ë‚´ë©°, ðŸŸ¢ì€ íƒœí‰ì•¼ê³¼ ëŒ€ì„œì–‘ ëª¨ë‘ë¡œ ë¹„ê°€ íë¥¼ ìˆ˜ ìžˆëŠ” ì„¬ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

```py
ðŸ…¿ï¸ðŸ…¿ï¸ðŸ…¿ï¸ðŸ…¿ï¸ðŸŸ¢
ðŸ…¿ï¸ðŸ…¿ï¸ðŸ…¿ï¸ðŸŸ¢ðŸŸ¢
ðŸ…¿ï¸ðŸ…¿ï¸ðŸŸ¢ðŸ…°ï¸ðŸ…°ï¸
ðŸŸ¢ðŸŸ¢ðŸ…°ï¸ðŸ…°ï¸ðŸ…°ï¸
ðŸŸ¢ðŸ…°ï¸ðŸ…°ï¸ðŸ…°ï¸ðŸ…°ï¸

íƒœí‰ì–‘ ì§‘í•©: {(0, 0), (1, 0), (0, 1), (1, 1), (2, 1), (3, 1), (2, 2), (1, 2), (1, 3), (1, 4), (0, 4), (0, 2), (0, 3), (2, 0), (3, 0), (4, 0)}
ëŒ€ì„œì–‘ ì§‘í•©: {(4, 0), (3, 0), (3, 1), (4, 1), (4, 2), (3, 2), (2, 2), (3, 3), (3, 4), (4, 3), (4, 4), (0, 4), (1, 4), (1, 3), (2, 4), (2, 3)}
êµì§‘í•©: {(0, 4), (1, 3), (1, 4), (2, 2), (3, 0), (3, 1), (4, 0)}
```

ê·¸ëŸ¼ ì´ ì•Œê³ ë¦¬ì¦˜ì„ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³¼ê¹Œìš”?

```py
class Solution:
    def pacificAtlantic(self, heights: List[List[int]]) -> List[List[int]]:
        n_rows, n_cols = len(heights), len(heights[0])
        pacific, atlantic = set(), set()

        def dfs(visited, row, col):
            if (row, col) in visited:
                return
            visited.add((row, col))

            for r, c in (
                [row + 1, col],
                [row - 1, col],
                [row, col + 1],
                [row, col - 1],
            ):
                if 0 <= r < n_rows and 0 <= c < n_cols:
                    if heights[row][col] <= heights[r][c]:
                        dfs(visited, r, c)

        for c in range(n_cols):
            dfs(pacific, 0, c)  # uppermost row
            dfs(atlantic, n_rows - 1, c)  # lowermost row

        for r in range(n_rows):
            dfs(pacific, r, 0)  # leftmost column
            dfs(atlantic, r, n_cols - 1)  # rightmost column
```

ì´ í’€ì´ì˜ ë³µìž¡ë„ëŠ” `O(r * c)`ë¡œ ì´ì „ í’€ì´ì— ë¹„í•´ ëŒ€í­ í–¥ìƒì´ ë©ë‹ˆë‹¤.
ìµœì•…ì˜ ê²½ìš°ë¡œ ë°°ì—´ì´ ëª¨ë‘ ê°™ì€ ê°’ìœ¼ë¡œ ì±„ì›Œì ¸ ìžˆë‹¤ê³  í•˜ë”ë¼ë„, `O(2 * r * c)`ì˜ ì‹œê°„ì´ ì†Œëª¨ë  ê²ƒì´ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.

## ë§ˆì¹˜ë©´ì„œ

ì´ ë¬¸ì œê°€ ë„ˆë¬´ ì–´ë ¤ìš°ì…¨ë‹¤ë©´ ë¹„ìŠ·í•˜ì§€ë§Œ ì¢€ ë” ì‰¬ìš´ ë¬¸ì œì¸ [Number of Islands](/problems/number-of-islands/)ë„ í’€ì–´ë³´ì‹œë¼ê³  ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
ì½”ë”© í…ŒìŠ¤íŠ¸ì—ì„œ ê·¸ëž˜í”„ ìžë£Œêµ¬ì¡°ë¥¼ ì–´ë–»ê²Œ ë‹¤ë£¨ëŠ”ì§€ì— ëŒ€í•´ì„œ ë” ê³µë¶€í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ [ê´€ë ¨ ê²Œì‹œë¬¼](/data-structures/graph/)ì„ ì°¸ê³  ë°”ëž„ê»˜ìš”.
