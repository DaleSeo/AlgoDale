---
title: "Sum of Two Integers"
tags:
  - leetcode
  - math
  - bit-manipulation
  - python
  - java
date: 2024-07-11
---

LeetCode의 371번째 문제인 [Sum of Two Integers](https://leetcode.com/problems/sum-of-two-integers/)를 함께 풀어보도록 하겠습니다.

## 문제

두 정수 `a`와 `b`가 주어졌을 때, `+`와 `-` 연산자를 사용하지 않고 두 정수의 합을 반환하시오.

## 예제 1

```py
Input: a = 1, b = 2
Output: 3
```

```py
Input: a = 2, b = 3
Output: 5
```

## 풀이 1

아니 산술 연산자를 사용하지 않고 두 정수의 합을 구하라니 정말 독특한 문제죠? 🤷‍♂️🤷‍♀️
눈치가 빠르신 분들은 비트 연산자를 사용해서 풀어야겠다고 이미 생각하고 계신 것 같네요. 😛

덧셈을 하는데 어떤 비트 연산자를 사용할 수 있을까요?
이진수 연산을 해보면 크게 4가지 경우를 생각해볼 수 있는 것 같아요.

```
00 + 00 = 00
00 + 01 = 01
01 + 00 = 01
01 + 01 = 10
```

XOR(`^`) 연산자를 사용하면 얼추 비슷한 결과를 얻을 수 있는 것 같아요.
올림수(carry)가 발생했을 때 문제가 되는군요. 🤔

```
00 ^ 00 = 00 ✅
00 ^ 01 = 01 ✅
01 ^ 00 = 01 ✅
01 ^ 01 = 00 ❌
```

```
a ^ b = 올림수를 제외한 a와 b의 합
```

올림수는 따로 논리곱(`&`) 연산자와 좌측 쉬프트(`<<`) 연산자를 조합해서 구할 수 있어요.

```
00 & 00 << 1 = 00
00 & 01 << 1 = 00
01 & 00 << 1 = 00
01 & 01 << 1 = 10
```

```
(a & b) << 1 = a와 b를 더했을 때 올림수
```

자, 그럼 이 두 결과를 더하면 우리가 원하는 두 정수의 합을 얻을 수 있겠죠?

```
00 + 00 = (00 ^ 00) + (00 & 00 << 1) = 00 + 00 = 00
00 + 01 = (00 ^ 01) + (00 & 01 << 1) = 01 + 00 = 01
01 + 00 = (01 ^ 00) + (01 & 00 << 1) = 01 + 00 = 01
01 + 01 = (01 ^ 01) + (01 & 01 << 1) = 00 + 10 = 10
```

```
(a ^ b) + ((a & b) << 1) = a + b
```

앗, 그런데 여기서 까먹으면 안 되는 점이 두 결과를 더할 때도 `+` 연산자를 사용할 수 없다는 거에요.
따라서 이 두 결과도 다시 비트 연산자를 통해서 더해야될 것 같아요.
이 작업을 올림수가 없어질 때까지 반복하면 되겠죠?

이 알고리즘을 파이썬으로 구현해볼까요?

```py
class Solution:
    def getSum(self, a: int, b: int) -> int:
        xor = a ^ b
        carry = (a & b) << 1
        while carry > 0:
            xor, carry = xor ^ carry, (xor & carry) << 1
        return xor
```

변수 `a`와 `b`를 재활용하면 코드가 좀 더 간결해지겠죠?

```py
class Solution:
    def getSum(self, a: int, b: int) -> int:
        while b > 0:
            a, b = a ^ b, (a & b) << 1
        return a
```

이 코드는 LeetCode에서 주어진 테스트 케이스는 통과를 하지만 제출을 해보면 `Time Limit Exceeded` 오류가 발생할 거에요.
이유는 바로 우리가 음수를 고려하지 않았기 때문입니다.

## 풀이 2
