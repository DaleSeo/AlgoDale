---
title: "Linked List Cycle"
tags:
  - LeetCode
  - Python
  - Java
  - linkedList
  - hashTable
  - set
  - twoPointers
date: 2022-02-16
---

<iframe width="560" height="315" src="https://www.youtube.com/embed/Jfq3W_oCw7w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

LeetCodeì˜ [Linked List Cycle](https://leetcode.com/problems/linked-list-cycle/) ë¬¸ì œë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì˜ í—¤ë“œ(head)ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ìˆœí™˜(cycle)í•˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ”ì§€ ì•Œì•„ë‚´ë¼.

ì—¬ê¸°ì„œ ìˆœí™˜(cycle)ì´ë€ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒí•  ë•Œ ë™ì¼í•œ ë…¸ë“œ(node)ì— ë‹¤ì‹œ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ë§í•œë‹¤.

## ì˜ˆì œ 1

- ì…ë ¥

```py
3->2->0->-4
    <----
```

- ê²°ê³¼

```py
true
```

## ì˜ˆì œ 2

- ì…ë ¥

```py
3->2->0->-4->null
```

- ê²°ê³¼

```py
false
```

## í’€ì´ 1

ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ” ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ëŠ” ì¼ë°˜ì ì¸ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì™€ ë¹„êµí•´ì„œ ì–´ë–¤ ì ì´ ë‹¤ë¥¼ê¹Œìš”?
ì¼ë°˜ì ì¸ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ëŠ” ë³´í†µ ë§ˆì§€ë§‰ ë…¸ë“œê°€ ë„(null)ì„ ê°€ë¦¬í‚¤ê²Œ ë˜ëŠ”ë°ìš”.
ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì— ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆì„ ë•ŒëŠ” ë§ˆì§€ë§‰ ë…¸ë“œê°€ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ ë‚´ì— ìˆëŠ” ë‹¤ë¥¸ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ê²Œ ë©ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ” ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜ëª©ë¬¸ìœ¼ë¡œ ë£¨í”„ë¥¼ ëŒë©´ ì–´ë–¤ ì¼ì´ ë°œìƒí• ê¹Œìš”?
ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ì˜ˆì œë¡œ ìƒê°ì„ í•´ë³´ë©´ ë¬´í•œ ë£¨í”„ì— ë¹ ì§€ê²Œ ëœë‹¤ë¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
3->2->0->-4
    <----
```

```py
3->2->0->-4->2->0->-4->2->0->-4->2->0->-4->2->0->-4->2->0->-4->2->0->-4->...
```

ë”°ë¼ì„œ ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ” ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë‹¤ë£° ë•ŒëŠ” ë¬´ì—‡ë³´ë‹¤ ë¬´í•œ ë£¨í”„ì— ë¹ ì§€ì§€ ì•Šë„ë¡ ì½”ë“œë¥¼ ì§œëŠ” ê²ƒì´ ì¤‘ìš”í•˜ê² ì£ .

ë¬´í•œ ë£¨í”„ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” ì£¼ì–´ì§„ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë£¨í”„ë¥¼ ëŒë‹¤ê°€ ì ì ˆí•œ ì‹œì ì— íƒˆì¶œí•´ì•¼í• í…ë°ìš”.
í•´ë‹¹ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì— ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ê³  íŒë‹¨ì´ ë˜ëŠ” ìˆœê°„ ë°˜ëª©ë¬¸ì„ ë¹ ì ¸ë‚˜ì˜¤ë©´ ë˜ê² ë„¤ìš”.

ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì— ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆì„ê¹Œìš”?
ì˜ˆì œë¡œ ì£¼ì–´ì§„ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒëŒ€ë¡œ ë£¨í”„ë¥¼ ëŒë ¤ë³´ë©´, `2`ì™€ `0`, `-4`ë¥¼ ê°’ìœ¼ë¡œ ë‹´ê³  ìˆëŠ” ë…¸ë“œë¥¼ ì—¬ëŸ¬ ë²ˆ ë“¤ë¦¬ê²Œ ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ë£¨í”„ë¥¼ ëŒ ë•Œ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ ë‚´ì˜ ì–´ë–¤ ë…¸ë“œê°€ 2íšŒ ì´ìƒ ë°©ë¬¸ë˜ì—ˆë‹¤ë©´ ìš°ë¦¬ëŠ” í•´ë‹¹ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì— ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆê² ë„¤ìš”.
ë°˜ëŒ€ë¡œ ë§Œì•½ì— 2íšŒ ì´ìƒ ë°©ë¬¸ë˜ëŠ” ë…¸ë“œê°€ ì—†ë‹¤ë©´ ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ì—†ëŠ” ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì¼ ê²ƒì´ê³  í•´ë‹¹ ë£¨í”„ëŠ” ê²°êµ­ì€ ë„(null)ì— ë„ë‹¬í•˜ì—¬ ì¢…ë£Œë  ê²ƒì…ë‹ˆë‹¤.

ì, ì—¬ê¸°ì„œ ë‹¤ìŒ ì§ˆë¬¸ì€ ì–´ë–»ê²Œ ì–´ë–¤ ë…¸ë“œê°€ 2íšŒ ì´ìƒ ë°©ë¬¸ë˜ì—ˆëŠ”ì§€ë¥¼ ì•Œì•„ë‚´ëŠëƒì¸ë°ìš”.
ì´ëŸ¬í•œ ì‘ì—…ì„ í•˜ëŠ”ë° ìµœì í™”ëœ ìë£Œêµ¬ì¡°ê°€ ìˆì£ ?
ë„¤, ì„¸íŠ¸(set)ë¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤!

ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë£¨í”„ë¥¼ ëŒë©´ì„œ ë…¸ë“œê°€ ì„¸íŠ¸ì— ì €ì¥ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê³  ì €ì¥ì´ ë˜ì–´ìˆë‹¤ë©´ í•´ë‹¹ ë…¸ë“œë¥¼ 2ë²ˆì§¸ ë“¤ë¦¬ê³  ìˆë‹¤ëŠ” ë§ì´ê² ì£ ?
ë§Œì•½ì— í•´ë‹¹ ë…¸ë“œê°€ ì„¸íŠ¸ì— ì €ì¥ì´ ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ í•´ë‹¹ ë…¸ë“œë¥¼ ì„¸íŠ¸ì— ì €ì¥í•˜ê³  ë‹¤ìŒ ë…¸ë“œë¡œ ë„˜ì–´ê°€ë©´ ë©ë‹ˆë‹¤.

ì´ ì•Œê³ ë¦¬ì¦˜ì„ ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ì˜ˆì œì— í•œ ë²ˆ ì ìš©í•´ë³¼ê¹Œìš”?

`3`ì„ ë‹´ê³  ìˆëŠ” ë…¸ë“œëŠ” ì„¸íŠ¸ì— ì—†ìœ¼ë¯€ë¡œ ì €ì¥í•˜ê³  ë‹¤ìŒ ë…¸ë“œë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

```py
ğŸ‘‡
3->2->0->-4
    <----
ì„¸íŠ¸: {3}
```

`2`ì„ ë‹´ê³  ìˆëŠ” ë…¸ë“œëŠ” ì„¸íŠ¸ì— ì—†ìœ¼ë¯€ë¡œ ì €ì¥í•˜ê³  ë‹¤ìŒ ë…¸ë“œë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

```py
  ğŸ‘‡
3->2->0->-4
    <----
ì„¸íŠ¸: {3, 2}
```

`0`ì„ ë‹´ê³  ìˆëŠ” ë…¸ë“œëŠ” ì„¸íŠ¸ì— ì—†ìœ¼ë¯€ë¡œ ì €ì¥í•˜ê³  ë‹¤ìŒ ë…¸ë“œë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

```py
     ğŸ‘‡
3->2->0->-4
    <----
ì„¸íŠ¸: {3, 2, 0}
```

`-4`ì„ ë‹´ê³  ìˆëŠ” ë…¸ë“œëŠ” ì„¸íŠ¸ì— ì—†ìœ¼ë¯€ë¡œ ì €ì¥í•˜ê³  ë‹¤ìŒ ë…¸ë“œë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

```py
         ğŸ‘‡
3->2->0->-4
    <----
ì„¸íŠ¸: {3, 2, 0, -4}
```

`2`ì„ ë‹´ê³  ìˆëŠ” ë…¸ë“œëŠ” ì„¸íŠ¸ì— ìˆë„¤ìš”! ì´ë¡œì¨ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì—ëŠ” ìˆœíšŒí•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

```py
  ğŸ‘‡
3->2->0->-4
    <----
ì„¸íŠ¸: {3, 2, 0, -4}
         ğŸ‘†
```

ì´ ì•Œê³ ë¦¬ì¦˜ì„ ê·¸ëŒ€ë¡œ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³¼ê¹Œìš”?

```py
class Solution:
    def hasCycle(self, head: Optional[ListNode]) -> bool:
        visited = set()
        while head:
            if head in visited:
                return True
            visited.add(head)
            head = head.next
        return False
```

ì´ë²ˆì—ëŠ” ìë°” ì½”ë“œë¡œ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

```java
public class Solution {
    public boolean hasCycle(ListNode head) {
        Set<ListNode> visited = new HashSet<>();
        while (head != null) {
            if (visited.contains(head))
                return true;
            visited.add(head);
            head = head.next;
        }
        return false;
    }
}
```

ì½”ë“œë¡œ êµ¬í˜„í•  ë•Œ í•œ ê°€ì§€ ì£¼ì˜í•  ë¶€ë¶„ì€ ì„¸íŠ¸ì— ë…¸ë“œ ìì²´ë¥¼ ì €ì¥í•´ì•¼ì§€ ë…¸ë“œì˜ ê°’ì„ ì €ì¥í•˜ë©´ ì•ˆ ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
í•˜ë‚˜ì˜ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ ë‚´ì—ì„œ ë™ì¼í•œ ê°’ì„ ë‹´ê³  ìˆëŠ” ë…¸ë“œê°€ í•˜ë‚˜ë¼ê³  ë‹¨ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ì£ .

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ì£¼ì–´ì§„ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ í•œ ë²ˆ ìˆœíšŒí•˜ë¯€ë¡œ `O(n)`ì…ë‹ˆë‹¤.
ê³µê°„ ë³µì¡ë„ë„ `O(n)`ì¸ë°ìš”.
ìˆœíšŒí•˜ëŠ” ë¶€ë¶„ì´ ì—†ëŠ” ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ê°€ ì£¼ì–´ì¡Œì„ ê²½ìš° ëª¨ë“  ë…¸ë“œë¥¼ ì„¸íŠ¸ ìë£Œêµ¬ì¡°ì— ì €ì¥í•´í•˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ì™€ ë¹„ë¡€í•  ê²ƒì…ë‹ˆë‹¤.

## í’€ì´ 2

ìˆœí™˜ íƒì§€(cycle detection)ì— ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë§¤ìš° ìœ ëª…í•œ ì•Œê³ ë¦¬ì¦˜ì´ ìˆëŠ”ë°ìš”.
ë°”ë¡œ Floydë¼ëŠ” ë¶„ì´ 1970ë…„ ëŒ€ì— ê³ ì•ˆí•œ ê±°ë¶ì´ì™€ í† ë¼(The tortoise and hare) ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.

ì´ ì•Œê³ ë¦¬ì¦˜ì€ ë‘ê°œì˜ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•´ì„œ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒí•˜ëŠ”ë°ìš”.
ì²« ë²ˆì§¸ í¬ì¸í„°ëŠ” ë§ˆì¹˜ ê±°ë¶ì´ì²˜ëŸ¼ ëŠë¦¬ê²Œ í•œ ë²ˆì— ë…¸ë“œë¥¼ í•˜ë‚˜ì”© ì´ë™í•˜ê³ , ë‘ ë²ˆì§¸ í¬ì¸í„°ëŠ” ë§ˆì¹˜ í† ë¼ì²˜ëŸ¼ ë¹ ë¥´ê²Œ í•œ ë²ˆì— ë…¸ë“œë¥¼ ë‘ ê°œì”© ì´ë™í•©ë‹ˆë‹¤.
ì´ë ‡ê²Œ ë‘ ê°œì˜ í¬ì¸í„°ë¥¼ ì´ìš©í•´ì„œ ë£¨í”„ë¥¼ ëŒë‹¤ë³´ë©´ ì–¸ì œê°€ëŠ” í† ê¸° í¬ì¸í„°ê°€ ê±°ë¶ì´ í¬ì¸í„°ë¥¼ ë”°ë¼ ì¡ëŠ” ìˆœê°„ì´ ì˜¤ê² ì£ ?
ê·¸ ìˆœê°„ì— ìš°ë¦¬ëŠ” ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì— ìˆœí™˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì£¼ì–´ì§„ ì˜ˆì œë¡œ í•œ ë²ˆ ì‹¤ì œë¡œ ê·¸ëŸ°ì§€ ìƒê°í•´ë³¼ê¹Œìš”?

ê±°ë¶ì´ì™€ í† ë¼ ëª¨ë‘ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì˜ í—¤ë“œì—ì„œ ì¶œë°œí•˜ê² ìŠµë‹ˆë‹¤.

```py
ğŸ¢
3->2->0->-4
    <----
ğŸ‡
```

ê±°ë¶ì´ì™€ í† ë¼ ëª¨ë‘ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì˜ í—¤ë“œì—ì„œ ì¶œë°œí•˜ê² ìŠµë‹ˆë‹¤.

```py
  ğŸ¢
3->2->0->-4
    <----
      ğŸ‡
```

```py
     ğŸ¢
3->2->0->-4
    <----
  ğŸ‡
```

```py
         ğŸ¢
3->2->0->-4
    <----
         ğŸ‡
```

`-4`ì„ ë‹´ê³  ìˆëŠ” ë…¸ë“œì—ì„œ í† ë¼ê°€ ê±°ë¶ì´ë¥¼ ë¶™ì¡ì•˜ë„¤ìš”! ğŸ˜„

ì´ ì•Œê³ ë¦¬ì¦˜ì„ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def hasCycle(self, head: Optional[ListNode]) -> bool:
        slow, fast = head, head
        while fast and fast.next:
            slow = slow.next
            fast = fast.next.next
            if slow == fast:
                return True
        return False
```

ìë°”ë¡œë„ ì½”ë“œë¥¼ ì‘ì„±í•´ë³¼ê»˜ìš”.

```java
public class Solution {
    public boolean hasCycle(ListNode head) {
        ListNode slow = head;
        ListNode fast = head;
        while (fast != null && fast.next != null) {
            slow = slow.next;
            fast = fast.next.next;
            if (slow == fast) return true;
        }
        return false;
    }
}
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ì„¸íŠ¸ë¥¼ ì‚¬ìš©í•œ í’€ì´ì™€ ë™ì¼í•˜ì§€ë§Œ ê³µê°„ ë³µì¡ë„ëŠ” `O(1)`ë¡œ í–¥ìƒë©ë‹ˆë‹¤.

## ë§ˆì¹˜ë©´ì„œ

ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ ìë£Œêµ¬ì¡°ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ [ë³„ë„ë¡œ](/data-structures/linked-list) ë‹¤ë£¨ì—ˆìœ¼ë‹ˆ ì°¸ê³ ë°”ëë‹ˆë‹¤.
