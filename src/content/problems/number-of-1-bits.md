---
title: "Number of 1 Bits"
tags:
  - leetcode
  - string
  - math
  - bit-manipulation
  - python
  - javascript
date: 2024-05-06
---

<iframe width="560" height="315" src="https://www.youtube.com/embed/DwNEyAKmUoE?si=8Y6FMLru5ftBIJJP" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

LeetCodeì˜ 191ë²ˆì§¸ ë¬¸ì œì¸ [Number of 1 Bits](https://leetcode.com/problems/number-of-1-bits/)ë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

ì´ì§„ìˆ˜ë¡œ í‘œí˜„ëœ ì–‘ì˜ ì •ìˆ˜ê°€ ì£¼ì–´ì¡Œì„ ë•Œ ì†Œìœ„ í•´ë° ë¬´ê²Œ(Hamming weight)ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ìˆ«ì `1`ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì‹œì˜¤.

## ì˜ˆì œ

```py
ì…ë ¥: n = 11
ì¶œë ¥: 3
```

```py
ì…ë ¥: n = 128
ì¶œë ¥: 1
```

```py
ì…ë ¥: n = 2147483645
ì¶œë ¥: 30
```

## í’€ì´ 1

ì£¼ì–´ì§„ ì–‘ì˜ ì •ìˆ˜ë¥¼ ì´ì§„ìˆ˜ í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ë°”ê¾¸ë©´, ê·¸ ë¬¸ìì—´ ë‚´ì—ì„œ ìˆ«ì `1`ì˜ ê°œìˆ˜ë¥¼ ì°¾ëŠ” ê²ƒì€ ê·¸ë¦¬ ì–´ë µì§€ ì•Šì„ ê²ƒ ê°™ì€ë°ìš”.

ì˜ˆë¥¼ ë“¤ì–´, ìˆ«ì `11`ì„ ì´ì§„ìˆ˜ ë¬¸ìì—´ë¡œ ë°”ê¿”ë³´ë©´ `"1011"`ì´ ë©ë‹ˆë‹¤.
ê·¸ëŸ¬ë©´ ì´ ë¬¸ìì—´ì— ìˆ«ì 1ì´ 3ê°œ ë“¤ì–´ìˆë‹¤ëŠ” ê²ƒì„ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆê² ì£ ?
ë¬¸ìì—´ì„ ì•ì—ì„œ ë¶€í„° ë’¤ë¡œ ìŠ¤ìº”í•˜ë©´ì„œ 1ì˜ ê°œìˆ˜ë¥¼ ì„¸ë©´ ë  ê²ƒì…ë‹ˆë‹¤.

íŒŒì´ì¬ì—ì„œëŠ” ìˆ«ìë¥¼ ì´ì§„ìˆ˜ í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ë°”ê¿€ ë•Œ `bin()`ì´ë‚˜ `format()` ë‚´ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

> íŒŒì´ì¬ì—ì„œ 2ì§„ìˆ˜, 8ì§„ìˆ˜, 16ì§„ìˆ˜ë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œëŠ” [ê´€ë ¨ í¬ìŠ¤íŒ…](https://www.daleseo.com/python-int-bases/)ì„ ì°¸ì¡° ë°”ëë‹ˆë‹¤.

ê·¸ëŸ¼ ì´ ì•Œê³ ë¦¬ì¦˜ì„ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def hammingWeight(self, n: int) -> int:
        cnt = 0
        for bit in bin(n):
            if bit == "1":
                cnt += 1
        return cnt
```

í˜¹ì‹œ íŒŒì´ì¬ì—ì„œ ë¬¸ìì—´ì´ ì œê³µí•˜ëŠ” `count()` í•¨ìˆ˜ë¥¼ ì•„ì‹ ë‹¤ë©´ í•œ ì¤„ë¡œ ì§¤ ìˆ˜ë„ ìˆê² ë„¤ìš”.

```py
class Solution:
    def hammingWeight(self, n: int) -> int:
        return bin(n).count("1")
```

ë™ì¼í•œ ì½”ë“œë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œë„ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

```js
function hammingWeight(n: number): number {
  return n.toString(2).split('').filter(bit => bit === '1').length;
};
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(log n)`ì´ ë˜ëŠ”ë°ìš”.
`bin()`ê³¼ ê°™ì´ ìˆ«ìë¥¼ ì´ì§„ìˆ˜ í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ìˆ«ìë¥¼ ê³„ì† 2ë¡œ ë‚˜ëˆ„ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ë³€í™˜ëœ ì´ì§„ìˆ˜ ë¬¸ìì—´ ê¸¸ì´ì— ë¹„ë¡€í•œ ë§Œí¼ ì¶”ê°€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ê³µê°„ ë³µì¡ë„ë„ `O(log n)`ì´ ë˜ê² ìŠµë‹ˆë‹¤.

## í’€ì´ 2

êµ³ì´ ë¬¸ìì—´ë¡œ ë°”ê¾¸ì§€ ì•Šê³  ì£¼ì–´ì§„ ìˆ«ìë¡œ ë¶€í„° ë°”ë¡œ ë‹µì„ êµ¬í•  ìˆ˜ëŠ” ì—†ì„ê¹Œìš”?

í˜¹ì‹œ í•™êµ ë‹¤ë‹ˆì‹¤ ë•Œ ìˆ˜í•™ ì‹œê°„ì— ì–´ë–»ê²Œ ì‹­ì§„ìˆ˜ë¥¼ ì´ì§„ìˆ˜ë¡œ ë³€í™˜í•˜ì…¨ëŠ”ì§€ ê¸°ì–µì´ ë‚˜ì‹œë‚˜ìš”?
ì‹­ì§„ìˆ˜ê°€ `0`ì´ ë  ë•Œê¹Œì§€ ê³„ì† `2`ë¡œ ë‚˜ëˆ„ë©´ì„œ ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë‘ ì—°ê²°í•˜ë©´ ì´ì§„ìˆ˜ê°€ ë˜ì£ ?

ì˜ˆë¥¼ ë“¤ì–´, ì‹­ì§„ìˆ˜ `11`ì€ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ê±°ì³ì„œ ì´ì§„ìˆ˜ `1011`ì´ ë˜ì£ .

```py
11 / 2 = ëª« 5 ë‚˜ë¨¸ì§€ 1
 5 / 2 = ëª« 2 ë‚˜ë¨¸ì§€ 1
 2 / 2 = ëª« 1 ë‚˜ë¨¸ì§€ 0
 1 / 0 = ëª« 0 ë‚˜ë¨¸ì§€ 1
```

ë”°ë¼ì„œ ìš°ë¦¬ë„ ë™ì¼í•˜ê²Œ ì£¼ì–´ì§„ ìˆ«ìê°€ `0`ì´ ë  ë•Œê¹Œì§€ ê³„ì† `2`ë¡œ ë‚˜ëˆ ë³´ë©´ ë  ê²ƒ ê°™ì•„ìš”.
ê·¸ë¦¬ê³  ë‚˜ë¨¸ì§€ê°€ `1`ì¸ ê²½ìš°ë§Œ ì„¸ëŠ” ê±°ì£ .

ì´ ì•Œê³ ë¦¬ì¦˜ì„ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³¼ê¹Œìš”?

```py
class Solution:
    def hammingWeight(self, n: int) -> int:
        cnt = 0
        while n > 0:
            cnt += n % 2
            n //= 2
        return cnt
```

íŒŒì´ì¬ì˜ `divmod()` ë‚´ì¥ í•¨ìˆ˜ë¥¼ í™œìš©í•˜ì‹œë©´ ë‹¤ìŒê³¼ ê°™ì´ ì§¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```py
class Solution:
    def hammingWeight(self, n: int) -> int:
        cnt = 0
        while n:
            q, r = divmod(n, 2)
            cnt += r
            n = q
        return cnt
```

ë™ì¼í•œ ì½”ë“œë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œë„ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

```js
function hammingWeight(n: number): number {
  let cnt = 0;
  while (n > 0) {
      cnt += n % 2;
      n = Math.floor(n / 2);
  }
  return cnt;
};
```

ì´ í’€ì´ë„ ê³„ì†í•´ì„œ ì…ë ¥ ê°’ì„ ë°˜ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë•Œë¬¸ì— ì‹œê°„ ë³µì¡ë„ê°€ `O(log n)`ì´ ë©ë‹ˆë‹¤.
ë°˜ë©´ì— ê³µê°„ ë³µì¡ë„ëŠ” ì •í•´ì§„ ìˆ˜ì˜ ë³€ìˆ˜ ì™¸ì—ëŠ” ì¶”ê°€ ë©”ëª¨ë¦¬ë¥¼ ì“°ì§€ ì•Šìœ¼ë¯€ë¡œ `O(1)`ë¡œ í–¥ìƒ ë©ë‹ˆë‹¤.

## í’€ì´ 3

ì´ë²ˆì—ëŠ” ì•„ì˜ˆ ì²˜ìŒë¶€í„° ì£¼ì–´ì§„ ìˆ˜ë¥¼ ì´ì§„ìˆ˜ë¡œ ë‹¤ë¤„ë³´ë©´ ì–´ë–¨ê¹Œìš”?
ê·¸ëŸ¬ë©´ ìš°ë¦¬ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ ë¹„íŠ¸ ì—°ì‚°ì(bitwise operator)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

ìš°ì„  ë…¼ë¦¬ê³±ì„ ë‚˜íƒ€ë‚´ëŠ” `&` ì—°ì‚°ìë¥¼ í†µí•´ì„œ ë§ˆì§€ë§‰ ë¹„íŠ¸ê°€ `1`ì¸ì§€ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
`n & 1 == 1`ì´ë¼ë©´ `n`ì˜ ë§ˆì§€ë§‰ ë¹„íŠ¸ëŠ” `1`ì´ ë  ê²ƒì…ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ìš°ì¸¡ìœ¼ë¡œ ì‰¬í”„íŠ¸ë¥¼ í•´ì£¼ëŠ” `>>` ì—°ì‚°ìë¥¼ í†µí•´ì„œ ë§ˆì§€ë§‰ ë¹„íŠ¸ë¥¼ ì´ì§„ìˆ˜ë¡œ ë¶€í„° ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ 2ê°œì˜ ë¹„íŠ¸ ì—°ì‚°ìë¥¼ í™œìš©í•˜ë©´ ë¹„íŠ¸ë¥¼ ìš°ì¸¡ìœ¼ë¡œ ê³„ì† ì‰¬í”„íŠ¸í•˜ë©´ì„œ, ë§ˆì§€ë§‰ ë¹„íŠ¸ê°€ `1`ì¸ì§€ ê²½ìš°ë¥¼ ì…€ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì‹­ì§„ìˆ˜ `11`ì€ ì´ì§„ìˆ˜ë¡œ `1011`ì´ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ í†µí•´ ì´ 3ê°œì˜ ê²½ìš°ë¥¼ ì°¾ì„ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

```py
1011 & 1 = 1
cnt = 0 + 1 = 1
1011 >> 1 = 101

101 & 1 = 1
cnt = 1 + 1 = 2
101 >> 1 = 10

10 & 1 = 0
cnt = 2 + 0 = 2
10 >> 1 = 1

1 & 1 = 1
cnt = 2 + 1 = 3
1 >> 1 = 0
```

ê·¸ëŸ¼ ì´ ì•Œê³ ë¦¬ì¦˜ì„ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def hammingWeight(self, n: int) -> int:
        cnt = 0
        while n:
            cnt += n & 1
            n >>= 1
        return cnt
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œë¡œ ì‘ì„±í•œ ì½”ë“œë„ ê±°ì˜ ë™ì¼í•©ë‹ˆë‹¤.

```js
function hammingWeight(n: number): number {
  let cnt = 0;
  while (n) {
    cnt += n & 1;
    n >>= 1;
  }
  return cnt;
};
```

ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ë°˜ë³µì˜ íšŸìˆ˜ë¥¼ ìƒê°í•´ë³´ë©´ ì´ì „ í’€ì´ì™€ ìœ ì˜ë¯¸í•œ ì°¨ì´ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ì‹œê°„ ë³µì¡ë„ëŠ” `O(log n)`, ê³µê°„ ë³µì¡ë„ëŠ” `O(1)`ë¡œ ë™ì¼í•˜ê² ìŠµë‹ˆë‹¤.

## í’€ì´ 4

ì£¼ì–´ì§„ ìˆ«ìë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  ë¹„íŠ¸ ë§ˆìŠ¤í‚¹(bit masking) ê¸°ë²•ì„ ì‚¬ìš©í•´ì„œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ë§ˆìŠ¤í¬ ë¹„íŠ¸ë¥¼ í•œ ì¹¸ì”© ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ 32ë²ˆ ì‹œí”„íŠ¸í•˜ë©´ì„œ, ì£¼ì–´ì§„ ìˆ«ìì™€ ë…¼ë¦¬ê³±ì„ í–ˆì„ ë•Œ `0`ì´ ì•„ë‹Œ ê²½ìš°ë§Œ ì„¸ë©´ ë©ë‹ˆë‹¤.
ë…¼ë¦¬ê³± ê²°ê³¼ê°€ `0`ì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì€ ê·¸ ìë¦¬ì— `1`ì´ ìˆë‹¤ëŠ” ëœ»ì´ë‹ˆê¹Œìš”.

```py
class Solution:
    def hammingWeight(self, n: int) -> int:
        cnt = 0
        mask = 1 << 31
        while mask:
            if n & mask:
                cnt += 1
            mask >>= 1
        return cnt
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ì…ë ¥ ìˆ«ìì˜ í¬ê¸°ì™€ ë¬´ê´€í•˜ê²Œ í•­ìƒ 32ë²ˆ ë°˜ë³µì„ í•˜ê¸° ë•Œë¬¸ `O(1)`ì´ ë©ë‹ˆë‹¤.
ê·¸ë ‡ë‹¤ê³  í•´ì„œ ì´ì „ `O(log n)` í’€ì´ë³´ë‹¤ ì„±ëŠ¥ì´ ì¢‹ë‹¤ê³ ëŠ” í•  ìˆ˜ ì—†ê² ì£ ? ğŸ˜‰

## ë§ˆì¹˜ë©´ì„œ

ì´ ë¬¸ì œê°€ ë„ˆë¬´ ì‰¬ìš°ì…¨ë‹¤ë©´ ë¹„ìŠ·í•˜ì§€ë§Œ ì¢€ ë” ì–´ë ¤ìš´ ë¬¸ì œì¸ [Counting Bits](/problems/counting-bits/)ë„ í’€ì–´ë³´ì‹œë¼ê³  ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
