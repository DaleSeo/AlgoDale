---
title: "ì£¼ì‹ê°€ê²©"
tags:
  - programmers
  - array
  - stack
  - python
  - javascript
date: 2024-03-09
---

<iframe width="560" height="315" src="https://www.youtube.com/embed/VWEYG-vf2dw?si=9kOJacxXdP4AUZ4K" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ì˜ [ì£¼ì‹ê°€ê²©](https://school.programmers.co.kr/learn/courses/30/lessons/42584) ë¬¸ì œë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

ì´ˆ ë‹¨ìœ„ë¡œ ê¸°ë¡ëœ ì£¼ì‹ê°€ê²©ì´ ë‹´ê¸´ ë°°ì—´ pricesê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì€ ëª‡ ì´ˆì¸ì§€ë¥¼ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”.

- pricesì˜ ê° ê°€ê²©ì€ 1 ì´ìƒ 10,000 ì´í•˜ì¸ ìì—°ìˆ˜ì…ë‹ˆë‹¤.
- pricesì˜ ê¸¸ì´ëŠ” 2 ì´ìƒ 100,000 ì´í•˜ì…ë‹ˆë‹¤.

## ì˜ˆì œ

```py
ì…ë ¥: [1, 2, 3, 2, 3]
ì¶œë ¥: [4, 3, 1, 1, 0]
```

## í’€ì´ 1

ì£¼ì‹ ê°€ê²©ì´ ë–¨ì´ì§€ì§€ ì•ŠëŠ” ê¸°ê°„ì„ êµ¬í•˜ë ¤ë©´, í˜„ì¬ ê°€ê²©ê³¼ ë¯¸ë˜ ê°€ê²©ì„ ë¹„êµí•´ì•¼ê² ì£ ?
ìš°ì„ , í˜„ì¬ ê°€ê²©ë³´ë‹¤ ë¯¸ë˜ ê°€ê²©ì´ ë” ë¹„ì‹¸ë‹¤ë©´ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì— í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ, ë¯¸ë˜ ê°€ê²©ì´ ë” ì‹¸ë‹¤ë©´ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì— í¬í•¨ì‹œí‚¬ ìˆ˜ ì—†ì„ ê²ƒì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì•„ë˜ì™€ ê°™ì€ ì…ë ¥ ë°°ì—´ì´ ì£¼ì–´ì¡Œë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.
100ì›ì— ìƒ€ë˜ ì£¼ì‹ì´ 500ì›ê¹Œì§€ ì˜¬ëë‹¤ê°€ 200ì›ìœ¼ë¡œ ë–¨ì–´ì§„ ê²½ìš°ì…ë‹ˆë‹¤.

```py
prices=[100, 300, 500, 400, 200]
```

ìš°ì„  ì¸ë±ìŠ¤ 0ì—ì„œëŠ” ì£¼ì‹ ê°€ê²©ì´ 100ì›ì¸ë°ìš”.
ë¯¸ë˜ì˜ ê°€ê²©ì„ ë³´ë©´ ì´ ë³´ë‹¤ ë‚®ì€ ê°€ê²©ì€ ì—†ìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ 4ì´ˆë™ì•ˆ ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•Šì•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
        ___
prices=[100, 300, 500, 400, 200]
             -----------------> 4ì´ˆ
```

ë‹¤ìŒ ì¸ë±ìŠ¤ 1ì—ì„œëŠ” ì£¼ì‹ ê°€ê²©ì´ 300ì›ì¸ë°ìš”.
ë¯¸ë˜ì˜ ê°€ê²©ì„ ë³´ë©´ ê³„ì† ì´ ë³´ë‹¤ ë†’ë‹¤ê°€ ì¸ë±ìŠ¤ 4ì—ì„œ ê°€ê²©ì´ 200ì›ìœ¼ë¡œ 300ì› ì•„ë˜ë¡œ ë–¨ì–´ì§‘ë‹ˆë‹¤.
ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ì˜ˆì œì— ëŒ€í•œ ì„¤ëª…ì„ ë³´ì‹œë©´ ì´ë ‡ê²Œ ê°€ê²©ì´ ë–¨ì´ì§„ ê²½ìš°, ê·¸ ì‹œì ê¹Œì§€ 1ì´ˆë¥¼ í¬í•©í•©ë‹ˆë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì€ 3ì´ˆê°€ ë©ë‹ˆë‹¤.

```py
             ___             ğŸ“‰
prices=[100, 300, 500, 400, 200]
                  ------------> 3ì´ˆ
```

ë‹¤ìŒ ì¸ë±ìŠ¤ 2ì—ì„œëŠ” ì£¼ì‹ ê°€ê²©ì´ 500ì›ì¸ë°ìš”.
ë¯¸ë˜ì˜ ê°€ê²©ì„ ë³´ë©´ ë°”ë¡œ ë‹¤ìŒ ì¸ë±ìŠ¤ì—ì„œ ê°€ê²©ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤.
ë”°ë¼ì„œ ë–¨ì–´ì§„ ì‹œì ê¹Œì§€ í¬í•¨í•œ 1ì´ˆê°€ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì´ ë˜ê² ìŠµë‹ˆë‹¤.

```py
                  ___   ğŸ“‰
prices=[100, 300, 500, 400, 200]
                       --> 1ì´ˆ
```

ì£¼ì‹ ê°€ê²©ì´ 400ì›ì¸ ì¸ë±ìŠ¤ 3ì—ì„œë„ ë°”ë¡œ ë‹¤ìŒ ì¸ë±ìŠ¤ì—ì„œ ê°€ê²©ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤.
ë”°ë¼ì„œ 1ì´ˆë™ì•ˆ ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•Šì•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
                       ___   ğŸ“‰
prices=[100, 300, 500, 400, 200]
                            --> 1ì´ˆ
```

ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ì—ì„œëŠ” ë’¤ì— ë¯¸ë˜ì˜ ê°€ê²©ì´ í•˜ë‚˜ë„ ì—†ìœ¼ë¯€ë¡œ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì´ 0ì´ˆë¡œ ì…ë ¥ ë°°ì—´ì˜ ê¸¸ì´ì™€ ìƒê´€ì—†ì´ í•­ìƒ ë™ì¼í•©ë‹ˆë‹¤.

```py
                            ___
prices=[100, 300, 500, 400, 200]
                                0ì´ˆ
```

ìœ„ ì‚¬ê³  ê³¼ì •ì„ ì‚´í´ë³´ë©´ ìš°ë¦¬ëŠ” ì´ì¤‘ ë£¨í”„ë¥¼ í†µí•´ì„œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

- ì™¸ë¶€ ë£¨í”„ì—ì„œëŠ” í˜„ì¬ ê°€ê²©ì„ ê°€ë¦¬í‚¤ëŠ” ì¸ë±ìŠ¤ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
- ë‚´ë¶€ ë£¨í”„ì—ì„œëŠ” ë¯¸ë˜ ê°€ê²©ì„ ê°€ë¦¬í‚¤ëŠ” ì¸ë±ìŠ¤ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
- í˜„ì¬ ê°€ê²©ì´ ë¯¸ë˜ ê°€ê²©ë³´ë‹¤ ë” ì‹¼ ë™ì•ˆ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì„ 1ì´ˆì”© ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
- í˜„ì¬ ê°€ê²©ë³´ë‹¤ ë¹„ì‹¼ ë¯¸ë˜ ê°€ê²©ì„ ë§Œë‚˜ë©´ ë‚´ë¶€ ë£¨í”„ë¥¼ ì¤‘ë‹¨í•˜ê³  ë‹¤ìŒ í˜„ì¬ ê°€ê²©ìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

ìœ„ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³¼ê¹Œìš”?

```py
def solution(prices):
    result = [0] * len(prices)
    for cur in range(len(prices)):
        for fut in range(cur + 1, len(prices)):
            result[cur] += 1
            if prices[cur] > prices[fut]:
                break
    return result
```

ê°™ì€ ì½”ë“œë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js
function solution(prices) {
  let result = new Array(prices.length).fill(0);
  for (let cur = 0; cur < prices.length; cur++) {
    for (let fut = cur + 1; fut < prices.length; fut++) {
      result[cur] += 1;
      if (prices[cur] > prices[fut]) {
        break;
      }
    }
  }
  return result;
}
```

`n`ì„ ì…ë ¥ ë°°ì—´ì˜ ê¸¸ì´ë¼ê³  í–ˆì„ ë•Œ, ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ì´ì¤‘ ë£¨í”„ë¡œ ì¸í•´ì„œ `O(n^2)`ì´ ë©ë‹ˆë‹¤.
ê³µê°„ ë³µì¡ë„ëŠ” ê²°ê³¼ ë°°ì—´ì„ ì°¨ì§€í•˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì œì™¸í•˜ë©´ `O(1)`ì´ ë˜ê² ìŠµë‹ˆë‹¤.

## í’€ì´ 2

ì´ì „ í’€ì´ì—ì„œëŠ” í˜„ì¬ ê°€ê²©ì„ ê¸°ì¤€ìœ¼ë¡œ ë¯¸ë˜ì˜ ê°€ê²©ì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ë¥¼ í™•ì¸í–ˆì—ˆëŠ”ë°ìš”.
ì•„ë¬´ë˜ë„ ê°™ì€ ë¯¸ë˜ ê°€ê²©ì„ ì—¬ëŸ¬ ë²ˆ ì ‘ê·¼í•˜ë‹¤ ë³´ë‹ˆ ë§Œì¡±í•  ë§Œí•œ ì„±ëŠ¥ì´ ë‚˜ì˜¤ì§€ ì•ŠëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” ë°œìƒì„ ì „í™˜í•˜ì—¬ ë¯¸ë˜ ëŒ€ì‹ ì— ê³¼ê±°ì˜ ì£¼ì‹ ê°€ê²©ì„ í™•ì¸í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?
ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•ŠëŠ” ê¸°ê°„ì„ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹ˆ, ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì§€ì ì—ì„œ ê³¼ê±°ì˜ ê°€ê²©ì„ ì‚´í”¼ëŠ” ê±°ì—ìš”.

ìš°ì„  ê°€ê²©ì´ ë–¨ì–´ì§€ê²Œ ë˜ë©´, ê·¸ ë°”ë¡œ ì• ì¸ë±ìŠ¤ì—ì„œëŠ” ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•ŠëŠ” ê¸°ê°„ì´ 1ì´ˆê°€ ë©ë‹ˆë‹¤.
ê·¸ë¦¬ê³  ê·¸ ì•ì— ì• ì¸ë±ìŠ¤ë„ ì‚´í´ë³¼ í•„ìš”ê°€ ìˆëŠ”ë°ìš”.
ê·¸ ê°€ê²©ì´ ë–¨ì–´ì§„ ê°€ê²©ë³´ë‹¤ ë” í¬ë‹¤ë©´ ê·¸ ì¸ë±ìŠ¤ì—ì„œëŠ” ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•ŠëŠ” ê¸°ê°„ì´ 2ì´ˆê°€ ë  ê²ƒì…ë‹ˆë‹¤.
ì´ëŸ° ì‹ìœ¼ë¡œ ê³¼ê±°ë¥¼ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë©´ì„œ ë–¨ì–´ì§„ ê°€ê²©ë³´ë‹¤ ë” ë¹„ì‹¼ ê°€ê²©ì˜ ì¸ë±ìŠ¤ì—ì„œ ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•ŠëŠ” ê¸°ê°„ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ìƒí™©ì—ì„œëŠ” [ìŠ¤íƒ(Stack)](/data-structures/stack/) ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ë”±ì¸ë°ìš”.
ìŠ¤íƒì—ëŠ” ë‚˜ì¤‘ì— ì¶”ê°€í•œ ì›ì†Œê°€ ë¨¼ì € ë‚˜ì˜¤ê¸° ë•Œë¬¸ì—, ê°€ê¹Œìš´ ê³¼ê±°ì˜ ê°€ê²©ì„ ë¨¼ ê³¼ê±°ì˜ ê°€ê²©ë³´ë‹¤ ë” ë¹¨ë¦¬ ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ê¸°ë³¸ ì•„ì´ë””ì–´ëŠ” ìŠ¤íƒì— ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ êµ¬ê°„ì˜ ê°€ê²©ì˜ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•´ë†“ëŠ” ê²ƒì…ë‹ˆë‹¤.
ê·¸ëŸ¬ë©´ ìŠ¤íƒì˜ ìµœìƒë‹¨(top)ì—ëŠ” ì—¬íƒœê¹Œì§€ ìµœê³ ê°€ì˜ ì¸ë±ìŠ¤ê°€ ì €ì¥ë  ê²ƒì…ë‹ˆë‹¤.

ì…ë ¥ ë°°ì—´ì„ ë£¨í”„ ëŒë‹¤ê°€ ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì§€ì ì—ì„œ, ìŠ¤íƒì— ì €ì¥ë˜ì–´ ìˆëŠ” ê³¼ê±° ê°€ê²© ì¤‘ì—ì„œ í˜„ì¬ ê°€ê²©ë³´ë‹¤ ë¹„ì‹¼ ê°€ê²©ì— ëŒ€í•œ ì¸ë±ìŠ¤ê°€ ìˆë‹¤ë©´,
ê·¸ ì¸ë±ìŠ¤ë¥¼ ì œê±°í•˜ê³  ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•ŠëŠ” ê¸°ê°„ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•ŠëŠ” ê¸°ê°„ì€ í˜„ì¬ ì¸ë±ìŠ¤ì—ì„œ ê³¼ê±° ì¸ë±ìŠ¤ë¥¼ ë¹¼ì£¼ë©´ ë©ë‹ˆë‹¤.

```py
result[past_index] = current_index - past_index
```

ë£¨í”„ë¥¼ ë‹¤ ëŒì•˜ëŠ”ë° ìŠ¤íƒì— ë‚¨ì•„ìˆëŠ” ì¸ë±ìŠ¤ëŠ” ê°€ê²©ì´ ë–¨ì–´ì§„ ì ì´ ì—†ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
ì´ ê²½ìš°ì— ê°€ê²©ì´ ë–¨ì–´ì§€ëŠ” ì•ŠëŠ” ê¸°ê°„ì€ ë°°ì—´ì— ì• ìª½ì— ìˆì„ìˆ˜ë¡ ì»¤ì§€ë©´ ë‹¤ìŒ ê³µì‹ìœ¼ë¡œ êµ¬í•´ì§‘ë‹ˆë‹¤.

```py
result[i] = len(prices) - i - 1
```

ë§ë¡œë§Œ ì„¤ëª…í•˜ë‹ˆ ë§ì´ ë³µì¡í•˜ê²Œ ëŠê»´ì§€ì£ ?
ìš°ë¦¬ ì´ ì•Œê³ ë¦¬ì¦˜ì„ ìœ„ì—ì„œ ì‚¬ìš©í–ˆë˜ ì˜ˆì œì— ì°¨ê·¼ì°¨ê·¼ ì ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
prices=[100, 300, 500, 400, 200]
```

ìš°ì„  ì¸ë±ìŠ¤ 0ì—ì„œëŠ” ì£¼ì‹ ê°€ê²©ì´ 100ì›ì´ê³  ì•„ì§ ê³¼ê±° ê°€ê²©ì´ ì—†ê¸° ë•Œë¬¸ì— ìŠ¤íƒì— í˜„ì¬ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```py
        ___
prices=[100, 300, 500, 400, 200]
stack=[] + 0 = [0]
```

ì¸ë±ìŠ¤ 1ì—ì„œëŠ” ì£¼ì‹ ê°€ê²©ì´ 300ì›ì´ê³  ìŠ¤íƒì— ê³¼ê±° ê°€ê²©ì˜ ì¸ë±ìŠ¤ê°€ í•˜ë‚˜ ë°–ì— ì—†ëŠ”ë° ì´ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê°€ê²©ì´ 100ì›ì…ë‹ˆë‹¤.
ì•„ì§ ì£¼ì‹ ê°€ê²©ì´ ìƒìŠ¹ ì¤‘ì´ë¯€ë¡œ ìŠ¤íƒì— í˜„ì¬ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```py
             ___
prices=[100, 300, 500, 400, 200]
í˜„ì¬ê°€ vs. ê³¼ê±° ìµœê³ ê°€ = 300 > 100
stack=[0] + 1 = [0, 1]
```

ë‹¤ìŒ ì¸ë±ìŠ¤ 2ì—ì„œëŠ” ì£¼ì‹ ê°€ê²©ì´ 500ì›ì´ê³  ìŠ¤íƒì— ê°€ì¥ ìµœê·¼ì— ì¶”ê°€ëœ ì¸ë±ìŠ¤ì— ìˆëŠ” ê°€ê²©ì´ 300ì›ì…ë‹ˆë‹¤.
ì•„ì§ ì£¼ì‹ ê°€ê²©ì´ ìƒìŠ¹ ì¤‘ì´ë¯€ë¡œ ì´ ì¸ë±ìŠ¤ë„ ìŠ¤íƒì— ì¶”ê°€í•©ë‹ˆë‹¤.

```py
                  ___
prices=[100, 300, 500, 400, 200]
í˜„ì¬ê°€ vs. ê³¼ê±° ìµœê³ ê°€ = 500 > 300
stack=[0, 1] + 2 = [0, 1, 2]
```

ì¸ë±ìŠ¤ 3ë¶€í„°ëŠ” ìƒí™©ì´ ì¢€ ë‹¬ë¼ì§€ëŠ”ë°ìš”.
ì£¼ì‹ ê°€ê²©ì´ 400ì›ì¸ë° ìŠ¤íƒì— ê°€ì¥ ìµœê·¼ì— ì¶”ê°€ëœ ì¸ë±ìŠ¤ì— ìˆëŠ” ê°€ê²©ì´ 500ì›ì…ë‹ˆë‹¤.
ì£¼ì‹ ê°€ê²©ì´ í•˜ë½í•˜ì˜€ìœ¼ë¯€ë¡œ ìŠ¤íƒì— ì €ì¥ë˜ì–´ ìˆëŠ” ê³¼ê±° ìµœê³ ê°€ì˜ ì¸ë±ìŠ¤ 2ë¥¼ ì œê±°í•©ë‹ˆë‹¤.

```py
                       ___
prices=[100, 300, 500, 400, 200]
í˜„ì¬ê°€ vs. ê³¼ê±° ìµœê³ ê°€ = 400 < 500
stack=[0, 1, 2] - 2 = [0, 1]
```

ê·¸ë¦¬ê³  ìš°ë¦¬ ì—¬ê¸°ì„œ ë§‰ ì œê±°í•œ ì¸ë±ìŠ¤ 2ì—ì„œ ìœ„ì—ì„œ ì„¤ëª…ë“œë¦° ê³µì‹ì— ë”°ë¼ì„œ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
result[2] = 3 - 2 = 1
```

ë‹¤ì‹œ ìŠ¤íƒì— ì €ì¥ë˜ì–´ ìˆëŠ” ê³¼ê±° ìµœê³ ê°€ë¥¼ í™•ì¸í•´ë³´ë©´ ì¸ë±ìŠ¤ 1ì´ ê°€ë¦¬í‚¤ê³  ìˆëŠ” 300ì›ì…ë‹ˆë‹¤.
300ì›ì´ í˜„ì¬ ê°€ê²©ì¸ 400ì› ë³´ë‹¤ëŠ” ì‘ìœ¼ë¯€ë¡œ, ì¸ë±ìŠ¤ 1ê¸°ì¤€ìœ¼ë¡œëŠ” ì—¬ì „íˆ ì£¼ì‹ ê°€ê²©ì´ ìƒìŠ¹ ì¤‘ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ í˜„ì¬ ì¸ë±ìŠ¤ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•©ë‹ˆë‹¤.

```py
                       ___
prices=[100, 300, 500, 400, 200]
í˜„ì¬ê°€ vs. ê³¼ê±° ìµœê³ ê°€ = 400 > 300
stack=[0, 1] + 3 = [0, 1, 3]
```

ì¸ë±ìŠ¤ 4ì—ì„œë„ ì£¼ì‹ì´ í•˜ë½ì´ ì´ì–´ì§€ê³  ìˆìŠµë‹ˆë‹¤.
ìŠ¤íƒì˜ ìµœìƒë‹¨ì— ìˆëŠ” ì¸ë±ìŠ¤ì˜ ê°€ê²©ì´ 400ì›ì¸ë° í˜„ì¬ê°€ëŠ” 200ì›ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ì£¼ì‹ ê°€ê²©ì´ í•˜ë½í•˜ì˜€ìœ¼ë¯€ë¡œ ìŠ¤íƒì— ì €ì¥ë˜ì–´ ìˆëŠ” ê³¼ê±° ìµœê³ ê°€ì˜ ì¸ë±ìŠ¤ 3ë¥¼ ì œê±°í•©ë‹ˆë‹¤.

```py
                            ___
prices=[100, 300, 500, 400, 200]
í˜„ì¬ê°€ vs. ê³¼ê±° ìµœê³ ê°€ = 200 < 400
stack=[0, 1, 3] - 3 = [0, 1]
```

ê·¸ë¦¬ê³  ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë§‰ ì œê±°í•œ ì¸ë±ìŠ¤ 3ì—ì„œ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì„ êµ¬í•©ë‹ˆë‹¤.

```py
result[3] = 4 - 3 = 1
```

ìŠ¤íƒì„ ë³´ë©´ ê·¸ ë‹¤ìŒ ì¸ë±ìŠ¤ì— ìˆëŠ” ê°€ê²©ì´ 300ì›ì¸ë°ìš”.
ì—¬ì „íˆ í˜„ì¬ê°€ì¸ 200ì›ë³´ë‹¤ ë†’ë„¤ìš”.
ì´ ì¸ë±ìŠ¤ 1ì—ì„œë„ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì„ êµ¬í•˜ê¸° ìœ„í•´ì„œ ìŠ¤íƒì—ì„œ ê³¼ê±° ìµœê³ ê°€ì˜ ì¸ë±ìŠ¤ 1ë¥¼ ì œê±°í•©ë‹ˆë‹¤.

```py
                            ___
prices=[100, 300, 500, 400, 200]
í˜„ì¬ê°€ vs. ê³¼ê±° ìµœê³ ê°€ = 200 < 300
stack=[0, 1] - 1 = [0]
```

```py
result[1] = 4 - 1 = 3
```

ìŠ¤íƒì— ì €ì¥ë˜ì–´ ìˆëŠ” ê·¸ ë‹¤ìŒ ê³¼ê±° ìµœê³ ê°€ëŠ” 100ì›ì¸ë°ìš”.
í˜„ì¬ê°€ë³´ë‹¤ ì‘ìœ¼ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì„ êµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ê·¸ë˜ì„œ í˜„ì¬ê°€ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.

```py
                            ___
prices=[100, 300, 500, 400, 200]
í˜„ì¬ê°€ vs. ê³¼ê±° ìµœê³ ê°€ = 200 > 100
stack=[0] + 4 = [0, 4]
```

ë£¨í”„ê°€ ëë‚˜ê³  ë‚˜ë©´ ì¸ë±ìŠ¤ `0`, `4`ê°€ ìŠ¤íƒì— ë‚¨ì•„ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°ìš”.
ì—¬íƒœê¹Œì§€ ì´ ì¸ë±ìŠ¤ì— ìˆëŠ” ê°€ê²©ë³´ë‹¤ëŠ” ë” ë‚´ë ¤ê°„ ê°€ê²©ì€ ì—†ì—ˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
ë”°ë¼ì„œ ìœ„ì—ì„œ ì„¤ëª…ë“œë¦° ìˆ˜ì‹ì— ë”°ë¼ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì„ êµ¬í•©ë‹ˆë‹¤.

```py
result[0] = 5 - 0 - 1 = 4
result[4] = 5 - 4 - 1 = 0
```

ì§€ê¸ˆê¹Œì§€ ì„¤ëª…ë“œë¦° ì•Œê³ ë¦¬ì¦˜ì„ íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.
ì•„ì§ êµ¬í•˜ì§€ ì•Šì€ ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì„ í‘œì‹œí•˜ê¸° ìœ„í•´ì„œ, ê²°ê³¼ ë°°ì—´ì˜ ê°’ì„ ëª¨ë‘ `-1`ë¡œ ì´ˆê¸°í™”í•˜ì˜€ìŠµë‹ˆë‹¤.

```py
def solution(prices):
    result = [-1] * len(prices)
    stack = []
    for cur in range(len(prices)):
        while stack and prices[stack[-1]] > prices[cur]:
            pas = stack.pop()
            result[pas] = cur - pas
        stack.append(cur)
    for i in stack:
        result[i] = len(prices) - i - 1
    return result
```

ë™ì¼í•œ ì½”ë“œë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js
function solution(prices) {
  const result = new Array(prices.length).fill(-1);
  const stack = [];

  for (let cur = 0; cur < prices.length; cur++) {
    while (stack.length && prices[stack[stack.length - 1]] > prices[cur]) {
      const pas = stack.pop();
      result[pas] = cur - pas;
    }
    stack.push(cur);
  }

  for (let i = 0; i < stack.length; i++) {
    result[stack[i]] = prices.length - stack[i] - 1;
  }

  return result;
}
```

ì´ í’€ì´ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `for` ë¬¸ ì•ˆì— `while` ë¬¸ ë•Œë¬¸ì— `O(n^2)`ì´ë¼ê³  ìƒê°í•˜ê¸° ì‰¬ìš´ë°ìš”.
ê³°ê³°íˆ ë” ìƒê°ì„ í•´ë³´ë©´ ìŠ¤íƒì— ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•˜ëŠ” ì‘ì—…ì€ ì…ë ¥ ë°°ì—´ì˜ ê¸¸ì´ì™€ ë¹„ë¡€í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë§Œì•½ì— ê°€ê²©ì´ ê³„ì†í•´ì„œ ì˜¤ë¥´ê¸°ë§Œ í•œë‹¤ë©´, ìŠ¤íƒì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì œê±°í•  ì¼ì€ ì—†ê³  ì¶”ê°€ë§Œ `n`ë²ˆ í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.
ë°˜ëŒ€ë¡œ ê°€ê²©ì´ ê³„ì†í•´ì„œ ë–¨ì–´ì§€ê¸°ë§Œ í•œë‹¤ë©´, ìŠ¤íƒì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ê³  ì œê±°í•˜ëŠ” ì‘ì—…ì„ `n`ë²ˆ ë°˜ë³µí•˜ê²Œ ë˜ì–´ ì´ `2n`ë²ˆ í•˜ê²Œ ë  ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ê³µê°„ ë³µì¡ë„ëŠ” ìŠ¤íƒì´ ì°¨ì§€í•˜ëŠ” ë©”ëª¨ë¦¬ ë•Œë¬¸ì— `O(n)`ì´ ë˜ê² ìŠµë‹ˆë‹¤.
