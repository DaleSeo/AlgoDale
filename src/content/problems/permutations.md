---
title: "Permutations"
tags:
  - leetcode
  - python
  - java
  - array
  - permutation
  - backtracking
  - recursion
  - dfs
date: 2021-03-10
---

<iframe width="560" height="315" src="https://www.youtube.com/embed/TSKMoC6wHJ4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

LeetCodeì˜ [Permutations](https://leetcode.com/problems/permutations/) ë¬¸ì œë¥¼ í•¨ê»˜ í’€ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¬¸ì œ

ì¤‘ë³µë˜ì§€ ì•Šì€ ì •ìˆ˜ì˜ ë°°ì—´ì´ ì£¼ì–´ì¡Œì„ ë•Œ, ëª¨ë“  ê°€ëŠ¥í•œ ìˆœì—´ì„ ë°˜í™˜í•˜ë¼. ìˆœì„œëŠ” ìƒê´€ì´ ì—†ë‹¤.

## ì˜ˆì œ

```py
Input: [1, 2, 3]
Output: [
    [1, 2, 3],
    [1, 3, 2],
    [2, 1, 3],
    [2, 3, 1],
    [3, 1, 2],
    [3, 2, 1]
]
```

```py
Input: [0, 1]
Output: [
    [0, 1],
    [1, 0]
]
```

## í’€ì´

ì•„ë§ˆ ë§ì€ ë¶„ë“¤ì´ ê³ ë“±í•™êµ ìˆ˜í•™ ì‹œê°„ì— ë°°ì› ë˜ ìˆœì—´(permutation)ì— ëŒ€í•´ì„œ ì–´ë ´í’‹ì´ ê¸°ì–µí•˜ì‹¤í…ë°ìš”.

ê°„ë‹¨í•˜ê²Œ ìƒê¸°í•´ë³´ë©´ ìˆœì—´ì´ë€ ì„œë¡œ ë‹¤ë¥¸ `n`ê°œì—ì„œ ì¤‘ë³µë¨ì´ ì—†ì´ `r`ê°œë¥¼ ì„ íƒí•´ì„œ ì¼ë ¬ë¡œ ë°°ì—´í•˜ëŠ” ê²ƒì¸ë°ìš”.
ê³µì‹ì´ `nPr = n! / (n - r)!`ì´ ì—ˆì£ ?

ì´ ë¬¸ì œì—ì„œëŠ” `n`ê³¼ `r`ì´ ê°™ì€ ê°™ìœ¼ë¯€ë¡œ `nPn`ì´ ë˜ê³  ë”°ë¼ì„œ ê²°êµ­ `n!`ê°œì˜ ê²½ìš°ì˜ ìˆ˜ê°€ ìƒê¸°ì£ .
ì´ ê²ƒì´ ì²« ë²ˆì§¸ ì˜ˆì œì—ì„œëŠ” 3ê°œì˜ ìˆ«ìê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ `6 (= 3!)`ê°œì˜ ìˆœì—´ì„ ë§Œë“¤ì–´ë‚´ì•¼ í•˜ê³ ,
ë‘ ë²ˆì§¸ì—ì„œëŠ” 2ê°œì˜ ìˆ«ìê°€ ì£¼ì–´ì¡Œê¸° ë•Œë¬¸ì— , ì´ `2 (= 2!)`ê°œì˜ ìˆœì—´ì„ ë§Œë“¤ì–´ë‚´ì•¼ í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤.

ì, ê·¸ëŸ¬ë©´ ì…ë ¥ ë°°ì—´ì´ í¬ê¸°ì— ë”°ë¼ ì–¼ë§ˆë‚˜ ë§ì€ ìˆœì—´ì´ í•„ìš”í•œì§€ëŠ” ì•Œì•˜ìœ¼ë‹ˆ, êµ¬ì²´ì ìœ¼ë¡œ ê° ìˆœì—´ì„ ì–´ë–»ê²Œ ë§Œë“¤ì–´ë‚¼ì§€ì— ëŒ€í•´ì„œ ìƒê°í•´ë³¼ê¹Œìš”?
ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ì²« ë²ˆì§¸ ì˜ˆì œë¥¼ í†µí•´ì„œ ì¼ë°˜ì ìœ¼ë¡œ ìˆœì—´ì„ êµ¬í•  ë•Œ ì‹¤ì œë¡œ ìš°ë¦¬ê°€ ì–´ë–»ê²Œ ì‚¬ê³ ë¥¼ í•˜ëŠ”ì§€ ìƒê°ì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.

```py
[1, 2, 3]
```

1. ë¨¼ì € `1`ì„ ì„ íƒí•˜ë©´ `[2, 3]`ì´ ë‚¨ìŠµë‹ˆë‹¤.
1. ë‚¨ì€ ì •ìˆ˜ ì¤‘ì—ì„œ `2`ë¥¼ ì„ íƒí•˜ë©´, `[3]`ì´ ë‚¨ìŠµë‹ˆë‹¤.
1. ë‚¨ì€ ì •ìˆ˜ ì¤‘ì—ì„œ `3`ì„ ì„ íƒí•˜ë©´ ì•„ë¬´ ê²ƒë„ ë‚¨ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ ì²« ë²ˆì§¸ ìˆœì—´ì„ êµ¬í–ˆìŠµë‹ˆë‹¤.

```py
[[1, 2, 3]]
```

ìœ„ì˜ ë‘ ë²ˆì§¸ ë‹¨ê³„ë¡œ ë‹¤ì‹œ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ `2` ëŒ€ì‹ ì— `3`ì„ ì„ íƒí•©ë‹ˆë‹¤.
ë§ˆì§€ë§‰ì— ë‚¨ì€ ì •ìˆ˜ëŠ” `2`ì˜€ì„ ê²ƒì´ë¯€ë¡œ, ë‘ ë²ˆì§¸ ìˆœì—´ì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í•´ì§‘ë‹ˆë‹¤.

```py
[[1, 2, 3], [1, 3, 2]]
```

ì´ì œ ë‘ ë²ˆì§¸ ë‹¨ê³„ìœ¼ë¡œ ê±°ìŠ¬ëŸ¬ ì˜¬ëŸ¬ê°€ë”ë¼ë„ `2`ì™€ `3`ì„ ëª¨ë‘ ì„ íƒì„ í–ˆì—ˆê¸° ë•Œë¬¸ì— ë” ì´ìƒ ì„ íƒì˜ ì—¬ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ì²« ë²ˆì§¸ ë‹¨ê³„ìœ¼ë¡œ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€,

1. `1` ëŒ€ì‹ ì— `2`ë¥¼ ì„ íƒí•˜ë©´ `[1, 3]`ì´ ë‚¨ìŠµë‹ˆë‹¤.
1. ë‚¨ì€ ì •ìˆ˜ ì¤‘ì—ì„œ `1`ë¥¼ ì„ íƒí•˜ë©´, `[3]`ì´ ë‚¨ìŠµë‹ˆë‹¤.
1. ë‚¨ì€ ì •ìˆ˜ ì¤‘ì—ì„œ `3`ì„ ì„ íƒí•˜ë©´ ì•„ë¬´ ê²ƒë„ ë‚¨ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ ì„¸ ë²ˆì§¸ ìˆœì—´ì„ êµ¬í–ˆìŠµë‹ˆë‹¤.

```py
[[1, 2, 3], [1, 3, 2], [2, 1, 3]]
```

ë„¤ ë²ˆì§¸ ìˆœì—´ì„ êµ¬í•  ë•ŒëŠ” ë‘ ë²ˆì§¸ ë‹¨ê³„ì„ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ `1` ëŒ€ì‹ ì— `3`ì„ ì„ íƒí• í…Œê³ ,
ë‹¤ì„¯ ë²ˆì§¸ ìˆœì—´ì„ êµ¬í•  ë•ŒëŠ” ì²« ë‹¨ê³„ ë‹¨ê³„ì„ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ `2` ëŒ€ì‹ ì— `3`ì„ ì„ íƒí•  ê²ƒì…ë‹ˆë‹¤.

```py
[[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]
```

ì´ëŸ¬í•œ ê³¼ì •ì„ ë” ì´ìƒ ì„ íƒì˜ ì—¬ì§€ê°€ ì—†ì„ ë•Œê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ ë°˜ë³µí•˜ë©´ ëª¨ë“  ìˆœì—´ì„ êµ¬í•  ìˆ˜ê°€ ìˆëŠ”ë°ìš”.
ì´ëŸ¬í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì†Œìœ„ ë°±íŠ¸ë™í‚¹(backtracking)ì´ë¼ê³ ë„ í•©ë‹ˆë‹¤.

ê·¸ëŸ¼ ì´ ì¬ê·€(recursion) ì•Œê³ ë¦¬ì¦˜ì„ íŒŒì´ì¬ìœ¼ë¡œ í•œ ë²ˆ êµ¬í˜„í•´ë³¼ê¹Œìš”?
ì¬ê·€ í•¨ìˆ˜ì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ì´ë¯¸ ê³ ë¥¸ ìˆ˜ë¥¼ ë‹´ê³  ìˆëŠ” ë°°ì—´ì„ ë°›ê³ , ë‘ ë²ˆì§¸ ì¸ìë¡œ ì•„ì§ ë‚¨ì•„ìˆëŠ” ìˆ˜ë¥¼ ë‹´ê³  ìˆëŠ” ë°°ì—´ì„ ë°›ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```py
class Solution:
    def permute(self, nums: List[int]) -> List[List[int]]:
        permutations = []

        def dfs(picked, unpicked):
            if not unpicked:
                return permutations.append(picked)
            for i, num in enumerate(unpicked):
                dfs(picked + [num], unpicked[:i] + unpicked[i + 1 :])

        dfs([], nums)

        return permutations
```

ì´ ì¬ê·€ ì•Œê³ ë¦¬ì¦˜ì´ ìˆ˜í–‰ë˜ëŠ” ì „ì²´ì ì¸ ëª¨ìŠµì„ ê° ë‹¨ê³„ ë³„ë¡œ ì‹œê°í™”í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ëª¨ìŠµì¼ ê²ƒì…ë‹ˆë‹¤.

```py
-----------------> ê³ ë¥¸ ìˆ˜: [],        ë‚¨ì€ ìˆ˜: [1, 2, 3]
    1 -----------> ê³ ë¥¸ ìˆ˜: [1],       ë‚¨ì€ ìˆ˜: [2, 3]
        2 -------> ê³ ë¥¸ ìˆ˜: [1, 2],    ë‚¨ì€ ìˆ˜: [3]
            3 ---> ê³ ë¥¸ ìˆ˜: [1, 2, 3], ë‚¨ì€ ìˆ˜: [] ğŸ‘‰ ì²« ë²ˆì§¸ ìˆœì—´
        3 -------> ê³ ë¥¸ ìˆ˜: [1, 3],    ë‚¨ì€ ìˆ˜: [2]
            2 ---> ê³ ë¥¸ ìˆ˜: [1, 3, 2], ë‚¨ì€ ìˆ˜: [] ğŸ‘‰ ë‘ ë²ˆì§¸ ìˆœì—´
    2 -----------> ê³ ë¥¸ ìˆ˜: [2],       ë‚¨ì€ ìˆ˜: [1, 3]
        1 -------> ê³ ë¥¸ ìˆ˜: [2, 1],    ë‚¨ì€ ìˆ˜: [3]
            3 ---> ê³ ë¥¸ ìˆ˜: [2, 1, 3], ë‚¨ì€ ìˆ˜: [] ğŸ‘‰ ì„¸ ë²ˆì§¸ ìˆœì—´
        3 -------> ê³ ë¥¸ ìˆ˜: [2, 3],    ë‚¨ì€ ìˆ˜: [1]
            1 ---> ê³ ë¥¸ ìˆ˜: [2, 3, 1], ë‚¨ì€ ìˆ˜: [] ğŸ‘‰ ë„¤ ë²ˆì§¸ ìˆœì—´
    3 -----------> ê³ ë¥¸ ìˆ˜: [3],       ë‚¨ì€ ìˆ˜: [1, 2]
        1 -------> ê³ ë¥¸ ìˆ˜: [3, 1],    ë‚¨ì€ ìˆ˜: [2]
            2 ---> ê³ ë¥¸ ìˆ˜: [3, 1, 2], ë‚¨ì€ ìˆ˜: [] ğŸ‘‰ ë‹¤ì„¯ ë²ˆì§¸ ìˆœì—´
        2 -------> ê³ ë¥¸ ìˆ˜: [3, 2],    ë‚¨ì€ ìˆ˜: [1]
            1 ---> ê³ ë¥¸ ìˆ˜: [3, 2, 1], ë‚¨ì€ ìˆ˜: [] ğŸ‘‰ ì—¬ì„¯ ë²ˆì§¸ ìˆœì—´
```

ì°¸ê³ ë¡œ ë™ì¼í•œ ì•Œê³ ë¦¬ì¦˜ì„ ìë°”ë¡œ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ë¹„ìŠ·í•œ ì½”ë“œì¼ ê²ƒì…ë‹ˆë‹¤.

```java
import java.util.*;

class Solution {
    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> results = new ArrayList();
        helper(results, new Stack(), nums);
        return results;
    }

    private void helper(List<List<Integer>> results, Stack<Integer> path, int[] nums) {
        if (path.size() == nums.length) {
            results.add(new ArrayList<>(path));
            return;
        }
        for (int i = 0; i < nums.length; i++) {
            if (path.contains(nums[i])) continue;
            path.push(nums[i]);
            helper(results, path, nums);
            path.pop();
        }
    }
}
```

ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ìˆœì—´ ê³µì‹ì— ë”°ë¼ì„œ `O(n!)`ì´ ë©ë‹ˆë‹¤.
ê³µê°„ ë³µì¡ë„ëŠ” ì¬ê·€ í•¨ìˆ˜ì˜ í˜¸ì¶œ ìŠ¤íƒì— ê¹Šì´ê°€ `n`ì´ê³ , ê° ì¬ê·€ í•¨ìˆ˜ í˜¸ì¶œì—ì„œ í¬ê¸°ê°€ `n`ì¸ ë°°ì—´ì„ ì¶”ê°€ì ìœ¼ë¡œ ìƒì„±í•˜ë¯€ë¡œ `O(n^2)`ì´ ë˜ê² ìŠµë‹ˆë‹¤.

## ë¹„ìŠ·í•œ ë¬¸ì œ

- [Combination Sum í’€ì´](/problems/combination-sum)
