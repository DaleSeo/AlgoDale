---
import { getCollection } from "astro:content";
import CardList from "../../components/CardList.astro";
import MaxWidthWrapper from "../../components/MaxWidthWrapper.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";

const dataStructures = await getCollection("data-structure");
const articles = dataStructures
  .filter((dataStructures) => !dataStructures.data.draft)
  .sort((a, b) => a.data.date.valueOf() - b.data.date.valueOf())
  .map(({ collection, slug, data: { title, description, tags } }) => ({
    href: `/data-structures/${slug}`,
    slug,
    title,
    description,
    tags,
  }));
---

<BaseLayout>
  <MaxWidthWrapper>
    <CardList articles={articles} />
  </MaxWidthWrapper>
</BaseLayout>
