---
interface Props {
  headings: Array<{
    depth: number;
    slug: string;
    text: string;
  }>;
}

const { headings } = Astro.props;
---

<aside
  class="relative hidden border-l py-24 pl-8 lg:sticky lg:top-0 lg:block lg:shrink lg:grow-0 lg:basis-[280px]"
>
  <nav>
    <h2 class="mb-4 text-xl">목차</h2>
    {
      headings
        .filter(({ depth }) => depth < 3)
        .map(({ slug, text }) => (
          <a
            href={`#${slug}`}
            class="mb-2 block hover:text-primary hover:underline hover:decoration-primary hover:decoration-2 hover:underline-offset-4"
          >
            {text}
          </a>
        ))
    }
  </nav>
</aside>
